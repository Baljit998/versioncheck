frappe@baljit-ThinkPad-T460:~$ ssh baljitubuntu@20.197.1.7
baljitubuntu@20.197.1.7's password: 
Welcome to Ubuntu 22.04.3 LTS (GNU/Linux 6.2.0-1018-azure x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Tue Dec 12 06:24:19 UTC 2023

  System load:  0.0                Processes:             124
  Usage of /:   15.9% of 28.89GB   Users logged in:       0
  Memory usage: 4%                 IPv4 address for eth0: 10.0.0.4
  Swap usage:   0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

0 updates can be applied immediately.

2 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


Last login: Tue Dec 12 05:44:03 2023 from 112.196.30.231
baljitubuntu@ubuntu2:~$ ls
erpnext_quick_install  frappe-bench
baljitubuntu@ubuntu2:~$ rm -rf frappe-bench/
baljitubuntu@ubuntu2:~$ cd erpnext_quick_install/
baljitubuntu@ubuntu2:~/erpnext_quick_install$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        29G  3.7G   26G  13% /
tmpfs           3.9G     0  3.9G   0% /dev/shm
tmpfs           1.6G  976K  1.6G   1% /run
tmpfs           5.0M     0  5.0M   0% /run/lock
/dev/sda15      105M  6.1M   99M   6% /boot/efi
/dev/sdb1        16G   28K   15G   1% /mnt
tmpfs           788M  4.0K  788M   1% /run/user/1000
baljitubuntu@ubuntu2:~/erpnext_quick_install$ cd ..
baljitubuntu@ubuntu2:~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        29G  3.7G   26G  13% /
tmpfs           3.9G     0  3.9G   0% /dev/shm
tmpfs           1.6G  976K  1.6G   1% /run
tmpfs           5.0M     0  5.0M   0% /run/lock
/dev/sda15      105M  6.1M   99M   6% /boot/efi
/dev/sdb1        16G   28K   15G   1% /mnt
tmpfs           788M  4.0K  788M   1% /run/user/1000
baljitubuntu@ubuntu2:~$ sudo add user frappe
sudo: add: command not found
baljitubuntu@ubuntu2:~$ sudo adduser frappe
Adding user `frappe' ...
Adding new group `frappe' (1001) ...
Adding new user `frappe' (1001) with group `frappe' ...
Creating home directory `/home/frappe' ...
Copying files from `/etc/skel' ...
New password: 
Retype new password: 
passwd: password updated successfully
Changing the user information for frappe
Enter the new value, or press ENTER for the default
	Full Name []: frappe
	Room Number []: 
	Work Phone []: 
	Home Phone []: 
	Other []: 
Is the information correct? [Y/n] y
baljitubuntu@ubuntu2:~$ usermod -aG sudo grappe
usermod: user 'grappe' does not exist
baljitubuntu@ubuntu2:~$ usermod -aG sudo frappe
usermod: Permission denied.
usermod: cannot lock /etc/passwd; try again later.
baljitubuntu@ubuntu2:~$ su 
Password: 
su: Authentication failure
baljitubuntu@ubuntu2:~$ su frappe
Password: 
frappe@ubuntu2:/home/baljitubuntu$ su baljitubuntu
Password: 
baljitubuntu@ubuntu2:~$ su
Password: 
su: Authentication failure
baljitubuntu@ubuntu2:~$ usermod -aG sudo frappe
usermod: Permission denied.
usermod: cannot lock /etc/passwd; try again later.
baljitubuntu@ubuntu2:~$ sudo usermod -aG sudo frappe
baljitubuntu@ubuntu2:~$ ls
erpnext_quick_install
baljitubuntu@ubuntu2:~$ 
baljitubuntu@ubuntu2:~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        29G  3.7G   26G  13% /
tmpfs           3.9G     0  3.9G   0% /dev/shm
tmpfs           1.6G  980K  1.6G   1% /run
tmpfs           5.0M     0  5.0M   0% /run/lock
/dev/sda15      105M  6.1M   99M   6% /boot/efi
/dev/sdb1        16G   28K   15G   1% /mnt
tmpfs           788M  4.0K  788M   1% /run/user/1000
baljitubuntu@ubuntu2:~$ rm -rf erpnext_quick_install/
baljitubuntu@ubuntu2:~$ su - frappe
Password: 
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

frappe@ubuntu2:~$ ls
frappe@ubuntu2:~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        29G  3.7G   26G  13% /
tmpfs           3.9G     0  3.9G   0% /dev/shm
tmpfs           1.6G  976K  1.6G   1% /run
tmpfs           5.0M     0  5.0M   0% /run/lock
/dev/sda15      105M  6.1M   99M   6% /boot/efi
/dev/sdb1        16G   28K   15G   1% /mnt
tmpfs           788M  4.0K  788M   1% /run/user/1000
frappe@ubuntu2:~$ git clone https://github.com/flexcomng/erpnext_quick_install.git
Cloning into 'erpnext_quick_install'...
remote: Enumerating objects: 265, done.
remote: Counting objects: 100% (3/3), done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 265 (delta 2), reused 0 (delta 0), pack-reused 262
Receiving objects: 100% (265/265), 45.40 KiB | 11.35 MiB/s, done.
Resolving deltas: 100% (112/112), done.
frappe@ubuntu2:~$ cd erpnext_quick_install
frappe@ubuntu2:~/erpnext_quick_install$ sudo chmod +x erpnext_install.sh
[sudo] password for frappe: 
frappe@ubuntu2:~/erpnext_quick_install$ source erpnext_install.sh
Welcome to the ERPNext Installer...


Please enter the number of the corresponding ERPNext version you wish to install:
1) Version 13
2) Version 14
3) Version 15
#? 2
You have selected Version 14 for installation.
Do you wish to continue? (yes/no)
Response: yes
Proceeding with the installation of Version 14.
Now let's set some important parameters...
We will need your required SQL root password
What is your required SQL root password: 
Confirm password: 
Password confirmed

Updating system packages...
Hit:1 http://azure.archive.ubuntu.com/ubuntu jammy InRelease
Hit:2 http://azure.archive.ubuntu.com/ubuntu jammy-updates InRelease
Hit:3 http://azure.archive.ubuntu.com/ubuntu jammy-backports InRelease
Hit:4 http://azure.archive.ubuntu.com/ubuntu jammy-security InRelease
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
2 packages can be upgraded. Run 'apt list --upgradable' to see them.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Calculating upgrade... Done
Get more security updates through Ubuntu Pro with 'esm-apps' enabled:
  redis-server redis-tools
Learn more about Ubuntu Pro on Azure at https://ubuntu.com/azure/pro
The following packages have been kept back:
  python3-update-manager update-manager-core
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
System packages updated.
Installing preliminary package requirements
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
curl is already the newest version (7.81.0-1ubuntu1.15).
git is already the newest version (1:2.34.1-1ubuntu1.10).
software-properties-common is already the newest version (0.99.22.8).
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
Installing python environment manager and other requirements...


Installing additional Python packages and Redis Server
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
redis-server is already the newest version (5:6.0.16-1ubuntu1).
git is already the newest version (1:2.34.1-1ubuntu1.10).
python3-dev is already the newest version (3.10.6-1~22.04).
python3-distutils is already the newest version (3.10.8-1~22.04).
python3-setuptools is already the newest version (59.6.0-1.2ubuntu0.22.04.1).
python3-pip is already the newest version (22.0.2+dfsg-1ubuntu0.4).
python3-venv is already the newest version (3.10.6-1~22.04).
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
--2023-12-12 06:31:10--  https://github.com/wkhtmltopdf/packaging/releases/download/0.12.6.1-2/wkhtmltox_0.12.6.1-2.jammy_amd64.deb
Resolving github.com (github.com)... 20.207.73.82
Connecting to github.com (github.com)|20.207.73.82|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/131323182/900fb146-6cd3-472f-8e44-20abd005d992?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231212%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20231212T063110Z&X-Amz-Expires=300&X-Amz-Signature=6458b6e6c3d5e3a4e398a3a7e72dc088590104e301a4eb82b827f08d4065bd5c&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=131323182&response-content-disposition=attachment%3B%20filename%3Dwkhtmltox_0.12.6.1-2.jammy_amd64.deb&response-content-type=application%2Foctet-stream [following]
--2023-12-12 06:31:10--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/131323182/900fb146-6cd3-472f-8e44-20abd005d992?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231212%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20231212T063110Z&X-Amz-Expires=300&X-Amz-Signature=6458b6e6c3d5e3a4e398a3a7e72dc088590104e301a4eb82b827f08d4065bd5c&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=131323182&response-content-disposition=attachment%3B%20filename%3Dwkhtmltox_0.12.6.1-2.jammy_amd64.deb&response-content-type=application%2Foctet-stream
Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.111.133, 185.199.110.133, ...
Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 17352866 (17M) [application/octet-stream]
Saving to: ‘wkhtmltox_0.12.6.1-2.jammy_amd64.deb’

wkhtmltox_0.12.6.1-2.jammy_amd64.deb      100%[===================================================================================>]  16.55M  30.4MB/s    in 0.5s    

2023-12-12 06:31:11 (30.4 MB/s) - ‘wkhtmltox_0.12.6.1-2.jammy_amd64.deb’ saved [17352866/17352866]

(Reading database ... 93576 files and directories currently installed.)
Preparing to unpack wkhtmltox_0.12.6.1-2.jammy_amd64.deb ...
Unpacking wkhtmltox (1:0.12.6.1-2.jammy) over (1:0.12.6.1-2.jammy) ...
Setting up wkhtmltox (1:0.12.6.1-2.jammy) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.5) ...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Note, selecting 'libfontconfig1' instead of 'libfontconfig'
fontconfig is already the newest version (2.13.1-4.2ubuntu5).
libfontconfig1 is already the newest version (2.13.1-4.2ubuntu5).
libxrender1 is already the newest version (1:0.9.10-1build4).
xfonts-base is already the newest version (1:1.0.5).
xfonts-75dpi is already the newest version (1:1.0.4+nmu1.1).
xvfb is already the newest version (2:21.1.4-2ubuntu1.7~22.04.2).
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
Done!


Now installing MariaDB and other necessary packages...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
mariadb-client is already the newest version (1:10.6.12-0ubuntu0.22.04.1).
mariadb-server is already the newest version (1:10.6.12-0ubuntu0.22.04.1).
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
MariaDB and other packages have been installed successfully.
Now we'll go ahead to apply MariaDB security settings...
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)
...And add some settings to /etc/mysql/my.cnf:
MariaDB settings done!


Now to install NVM, Node, npm and yarn
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 16555  100 16555    0     0  35282      0 --:--:-- --:--:-- --:--:-- 35298
=> Downloading nvm from git to '/home/frappe/.nvm'
=> Cloning into '/home/frappe/.nvm'...
remote: Enumerating objects: 366, done.
remote: Counting objects: 100% (366/366), done.
remote: Compressing objects: 100% (315/315), done.
remote: Total 366 (delta 43), reused 163 (delta 25), pack-reused 0
Receiving objects: 100% (366/366), 365.79 KiB | 621.00 KiB/s, done.
Resolving deltas: 100% (43/43), done.
* (HEAD detached at FETCH_HEAD)
  master
=> Compressing and cleaning up git repository

=> Appending nvm source string to /home/frappe/.bashrc
=> Appending bash_completion source string to /home/frappe/.bashrc
=> You currently have modules installed globally with `npm`. These will no
=> longer be linked to the active version of Node when you install a new node
=> with `nvm`; and they may (depending on how you construct your `$PATH`)
=> override the binaries of modules installed with `nvm`:

/usr/local/lib
└── yarn@1.22.21
=> If you wish to uninstall them at a later point (or re-install them under your
=> `nvm` Nodes), you can remove them from the system Node as follows:

     $ nvm use system
     $ npm uninstall -g a_module

=> Close and reopen your terminal to start using nvm or run the following to use it now:

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
Downloading and installing node v16.20.2...
Downloading https://nodejs.org/dist/v16.20.2/node-v16.20.2-linux-x64.tar.xz...
############################################################################################################################################################### 100.0%
Computing checksum with sha256sum
Checksums matched!
Now using node v16.20.2 (npm v8.19.4)
Creating default alias: default -> 16 (-> v16.20.2)

changed 1 package, and audited 2 packages in 802ms

found 0 vulnerabilities
Package installation complete!
Now let's install bench
Requirement already satisfied: frappe-bench in /usr/local/lib/python3.10/dist-packages (5.19.0)
Requirement already satisfied: semantic-version~=2.8.2 in /usr/local/lib/python3.10/dist-packages (from frappe-bench) (2.8.5)
Requirement already satisfied: setuptools>40.9.0 in /usr/lib/python3/dist-packages (from frappe-bench) (59.6.0)
Requirement already satisfied: jinja2~=3.0.3 in /usr/lib/python3/dist-packages (from frappe-bench) (3.0.3)
Requirement already satisfied: click>=7.0 in /usr/lib/python3/dist-packages (from frappe-bench) (8.0.3)
Requirement already satisfied: honcho in /usr/local/lib/python3.10/dist-packages (from frappe-bench) (1.1.0)
Requirement already satisfied: python-crontab~=2.6.0 in /usr/local/lib/python3.10/dist-packages (from frappe-bench) (2.6.0)
Requirement already satisfied: gitpython~=3.1.30 in /usr/local/lib/python3.10/dist-packages (from frappe-bench) (3.1.40)
Requirement already satisfied: requests in /usr/lib/python3/dist-packages (from frappe-bench) (2.25.1)
Requirement already satisfied: tomli in /usr/local/lib/python3.10/dist-packages (from frappe-bench) (2.0.1)
Requirement already satisfied: gitdb<5,>=4.0.1 in /usr/local/lib/python3.10/dist-packages (from gitpython~=3.1.30->frappe-bench) (4.0.11)
Requirement already satisfied: python-dateutil in /usr/local/lib/python3.10/dist-packages (from python-crontab~=2.6.0->frappe-bench) (2.8.2)
Requirement already satisfied: smmap<6,>=3.0.1 in /usr/local/lib/python3.10/dist-packages (from gitdb<5,>=4.0.1->gitpython~=3.1.30->frappe-bench) (5.0.1)
Requirement already satisfied: six>=1.5 in /usr/lib/python3/dist-packages (from python-dateutil->python-crontab~=2.6.0->frappe-bench) (1.16.0)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
Initialising bench in frappe-bench folder.
If you get a restart failed, don't worry, we will resolve that later.
Setting Up Environment
$ python3 -m venv env
$ /home/frappe/frappe-bench/env/bin/python -m pip install  --upgrade pip
Requirement already satisfied: pip in ./env/lib/python3.10/site-packages (22.0.2)
Collecting pip
  Downloading pip-23.3.1-py3-none-any.whl (2.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 7.3 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 22.0.2
    Uninstalling pip-22.0.2:
      Successfully uninstalled pip-22.0.2
Successfully installed pip-23.3.1
$ /home/frappe/frappe-bench/env/bin/python -m pip install  wheel
Collecting wheel
  Downloading wheel-0.42.0-py3-none-any.whl.metadata (2.2 kB)
Downloading wheel-0.42.0-py3-none-any.whl (65 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.4/65.4 kB 869.7 kB/s eta 0:00:00
Installing collected packages: wheel
Successfully installed wheel-0.42.0
Getting frappe
$ git clone https://github.com/frappe/frappe.git --branch version-14 --depth 1 --origin upstream
Cloning into 'frappe'...
remote: Enumerating objects: 3236, done.
remote: Counting objects: 100% (3236/3236), done.
remote: Compressing objects: 100% (2860/2860), done.
remote: Total 3236 (delta 374), reused 2033 (delta 265), pack-reused 0
Receiving objects: 100% (3236/3236), 16.32 MiB | 10.95 MiB/s, done.
Resolving deltas: 100% (374/374), done.
Installing frappe
$ /home/frappe/frappe-bench/env/bin/python -m pip install  --upgrade -e /home/frappe/frappe-bench/apps/frappe 
Obtaining file:///home/frappe/frappe-bench/apps/frappe
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Collecting Babel~=2.9.0 (from frappe==14.58.0)
  Downloading Babel-2.9.1-py2.py3-none-any.whl (8.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 19.0 MB/s eta 0:00:00
Collecting Click~=7.1.2 (from frappe==14.58.0)
  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 kB 8.6 MB/s eta 0:00:00
Collecting filelock~=3.8.0 (from frappe==14.58.0)
  Downloading filelock-3.8.2-py3-none-any.whl (10 kB)
Collecting filetype~=1.2.0 (from frappe==14.58.0)
  Downloading filetype-1.2.0-py2.py3-none-any.whl (19 kB)
Collecting GitPython~=3.1.34 (from frappe==14.58.0)
  Downloading GitPython-3.1.40-py3-none-any.whl.metadata (12 kB)
Collecting Jinja2~=3.1.2 (from frappe==14.58.0)
  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 9.7 MB/s eta 0:00:00
Collecting Pillow~=10.0.1 (from frappe==14.58.0)
  Downloading Pillow-10.0.1-cp310-cp310-manylinux_2_28_x86_64.whl.metadata (9.5 kB)
Collecting PyJWT~=2.4.0 (from frappe==14.58.0)
  Downloading PyJWT-2.4.0-py3-none-any.whl (18 kB)
Collecting PyMySQL==1.0.3 (from frappe==14.58.0)
  Downloading PyMySQL-1.0.3-py3-none-any.whl (43 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.7/43.7 kB 4.1 MB/s eta 0:00:00
Collecting PyPDF2~=2.1.0 (from frappe==14.58.0)
  Downloading PyPDF2-2.1.1-py3-none-any.whl (185 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 185.9/185.9 kB 17.1 MB/s eta 0:00:00
Collecting PyPika~=0.48.9 (from frappe==14.58.0)
  Downloading PyPika-0.48.9.tar.gz (67 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 67.3/67.3 kB 5.4 MB/s eta 0:00:00
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Collecting PyQRCode~=1.2.1 (from frappe==14.58.0)
  Downloading PyQRCode-1.2.1.zip (41 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 41.9/41.9 kB 4.0 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting PyYAML~=6.0.1 (from frappe==14.58.0)
  Downloading PyYAML-6.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
Collecting RestrictedPython~=6.2 (from frappe==14.58.0)
  Downloading RestrictedPython-6.2-py3-none-any.whl.metadata (11 kB)
Collecting WeasyPrint==52.5 (from frappe==14.58.0)
  Downloading WeasyPrint-52.5-py3-none-any.whl (365 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 365.3/365.3 kB 26.6 MB/s eta 0:00:00
Collecting Werkzeug~=2.3.8 (from frappe==14.58.0)
  Downloading werkzeug-2.3.8-py3-none-any.whl.metadata (4.1 kB)
Collecting Whoosh~=2.7.4 (from frappe==14.58.0)
  Downloading Whoosh-2.7.4-py2.py3-none-any.whl (468 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.8/468.8 kB 18.4 MB/s eta 0:00:00
Collecting beautifulsoup4~=4.9.3 (from frappe==14.58.0)
  Downloading beautifulsoup4-4.9.3-py3-none-any.whl (115 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 115.8/115.8 kB 9.5 MB/s eta 0:00:00
Collecting bleach-allowlist~=1.0.3 (from frappe==14.58.0)
  Downloading bleach_allowlist-1.0.3-py2.py3-none-any.whl (9.6 kB)
Collecting bleach~=3.3.0 (from frappe==14.58.0)
  Downloading bleach-3.3.1-py2.py3-none-any.whl (146 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 146.6/146.6 kB 11.8 MB/s eta 0:00:00
Collecting cairocffi==1.2.0 (from frappe==14.58.0)
  Downloading cairocffi-1.2.0.tar.gz (70 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.4/70.4 kB 6.1 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting chardet~=5.1.0 (from frappe==14.58.0)
  Downloading chardet-5.1.0-py3-none-any.whl (199 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 199.1/199.1 kB 17.7 MB/s eta 0:00:00
Collecting croniter~=1.3.5 (from frappe==14.58.0)
  Downloading croniter-1.3.15-py2.py3-none-any.whl.metadata (23 kB)
Collecting cryptography~=41.0.1 (from frappe==14.58.0)
  Downloading cryptography-41.0.7-cp37-abi3-manylinux_2_28_x86_64.whl.metadata (5.2 kB)
Collecting email-reply-parser~=0.5.12 (from frappe==14.58.0)
  Downloading email_reply_parser-0.5.12-py3-none-any.whl (4.1 kB)
Collecting git-url-parse~=1.2.2 (from frappe==14.58.0)
  Downloading git_url_parse-1.2.2-py3-none-any.whl (5.6 kB)
Collecting gitdb~=4.0.7 (from frappe==14.58.0)
  Downloading gitdb-4.0.11-py3-none-any.whl.metadata (1.2 kB)
Collecting gunicorn~=21.2.0 (from frappe==14.58.0)
  Downloading gunicorn-21.2.0-py3-none-any.whl.metadata (4.1 kB)
Collecting html5lib~=1.1 (from frappe==14.58.0)
  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 kB 11.6 MB/s eta 0:00:00
Collecting ipython~=8.10.0 (from frappe==14.58.0)
  Downloading ipython-8.10.0-py3-none-any.whl (784 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 784.3/784.3 kB 38.1 MB/s eta 0:00:00
Collecting ldap3~=2.9 (from frappe==14.58.0)
  Downloading ldap3-2.9.1-py2.py3-none-any.whl (432 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 432.2/432.2 kB 27.4 MB/s eta 0:00:00
Collecting markdown2~=2.4.0 (from frappe==14.58.0)
  Downloading markdown2-2.4.11-py2.py3-none-any.whl.metadata (2.0 kB)
Collecting MarkupSafe<3,>=2.1.0 (from frappe==14.58.0)
  Downloading MarkupSafe-2.1.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.0 kB)
Collecting maxminddb-geolite2==2018.703 (from frappe==14.58.0)
  Downloading maxminddb-geolite2-2018.703.tar.gz (26.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 26.1/26.1 MB 28.1 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting num2words~=0.5.10 (from frappe==14.58.0)
  Downloading num2words-0.5.13-py3-none-any.whl.metadata (12 kB)
Collecting oauthlib~=3.2.1 (from frappe==14.58.0)
  Downloading oauthlib-3.2.2-py3-none-any.whl (151 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 151.7/151.7 kB 10.4 MB/s eta 0:00:00
Collecting openpyxl~=3.0.7 (from frappe==14.58.0)
  Downloading openpyxl-3.0.10-py2.py3-none-any.whl (242 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 242.1/242.1 kB 21.3 MB/s eta 0:00:00
Collecting passlib~=1.7.4 (from frappe==14.58.0)
  Downloading passlib-1.7.4-py2.py3-none-any.whl (525 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 525.6/525.6 kB 35.2 MB/s eta 0:00:00
Collecting pdfkit~=1.0.0 (from frappe==14.58.0)
  Downloading pdfkit-1.0.0-py3-none-any.whl (12 kB)
Collecting phonenumbers==8.12.40 (from frappe==14.58.0)
  Downloading phonenumbers-8.12.40-py2.py3-none-any.whl (2.6 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.6/2.6 MB 72.8 MB/s eta 0:00:00
Collecting premailer~=3.8.0 (from frappe==14.58.0)
  Downloading premailer-3.8.0.tar.gz (24 kB)
  Preparing metadata (setup.py) ... done
Collecting psutil~=5.9.1 (from frappe==14.58.0)
  Downloading psutil-5.9.6-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (21 kB)
Collecting psycopg2-binary~=2.9.1 (from frappe==14.58.0)
  Downloading psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)
Collecting pyasn1~=0.4.8 (from frappe==14.58.0)
  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.1/77.1 kB 7.3 MB/s eta 0:00:00
Collecting pyOpenSSL~=23.2.0 (from frappe==14.58.0)
  Downloading pyOpenSSL-23.2.0-py3-none-any.whl.metadata (10 kB)
Collecting pycryptodome~=3.18.0 (from frappe==14.58.0)
  Downloading pycryptodome-3.18.0-cp35-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)
Collecting pyotp~=2.6.0 (from frappe==14.58.0)
  Downloading pyotp-2.6.0-py2.py3-none-any.whl (11 kB)
Collecting pypng~=0.20220715.0 (from frappe==14.58.0)
  Downloading pypng-0.20220715.0-py3-none-any.whl (58 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.1/58.1 kB 4.1 MB/s eta 0:00:00
Collecting python-dateutil~=2.8.1 (from frappe==14.58.0)
  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 22.7 MB/s eta 0:00:00
Collecting pytz==2022.1 (from frappe==14.58.0)
  Downloading pytz-2022.1-py2.py3-none-any.whl (503 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 503.5/503.5 kB 33.4 MB/s eta 0:00:00
Collecting rauth~=0.7.3 (from frappe==14.58.0)
  Downloading rauth-0.7.3.tar.gz (16 kB)
  Preparing metadata (setup.py) ... done
Collecting redis~=3.5.3 (from frappe==14.58.0)
  Downloading redis-3.5.3-py2.py3-none-any.whl (72 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 72.1/72.1 kB 5.3 MB/s eta 0:00:00
Collecting hiredis~=2.0.0 (from frappe==14.58.0)
  Downloading hiredis-2.0.0.tar.gz (75 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.8/75.8 kB 5.7 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting requests-oauthlib~=1.3.0 (from frappe==14.58.0)
  Downloading requests_oauthlib-1.3.1-py2.py3-none-any.whl (23 kB)
Collecting requests~=2.31.0 (from frappe==14.58.0)
  Downloading requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)
Collecting rq~=1.11.1 (from frappe==14.58.0)
  Downloading rq-1.11.1-py2.py3-none-any.whl (70 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.8/70.8 kB 7.8 MB/s eta 0:00:00
Collecting rsa>=4.1 (from frappe==14.58.0)
  Downloading rsa-4.9-py3-none-any.whl (34 kB)
Collecting semantic-version~=2.10.0 (from frappe==14.58.0)
  Downloading semantic_version-2.10.0-py2.py3-none-any.whl (15 kB)
Collecting sqlparse~=0.4.1 (from frappe==14.58.0)
  Downloading sqlparse-0.4.4-py3-none-any.whl (41 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 41.2/41.2 kB 2.2 MB/s eta 0:00:00
Collecting tenacity~=8.0.1 (from frappe==14.58.0)
  Downloading tenacity-8.0.1-py3-none-any.whl (24 kB)
Collecting terminaltables~=3.1.0 (from frappe==14.58.0)
  Downloading terminaltables-3.1.10-py2.py3-none-any.whl (15 kB)
Collecting traceback-with-variables~=2.0.4 (from frappe==14.58.0)
  Downloading traceback-with-variables-2.0.4.tar.gz (21 kB)
  Preparing metadata (setup.py) ... done
Collecting urllib3~=1.26.4 (from frappe==14.58.0)
  Downloading urllib3-1.26.18-py2.py3-none-any.whl.metadata (48 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.9/48.9 kB 4.3 MB/s eta 0:00:00
Collecting xlrd~=2.0.1 (from frappe==14.58.0)
  Downloading xlrd-2.0.1-py2.py3-none-any.whl (96 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.5/96.5 kB 2.5 MB/s eta 0:00:00
Collecting zxcvbn~=4.4.28 (from frappe==14.58.0)
  Downloading zxcvbn-4.4.28.tar.gz (407 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 407.9/407.9 kB 29.4 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting markdownify~=0.11.2 (from frappe==14.58.0)
  Downloading markdownify-0.11.6-py3-none-any.whl (16 kB)
Collecting boto3~=1.18.49 (from frappe==14.58.0)
  Downloading boto3-1.18.65-py3-none-any.whl (131 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 131.7/131.7 kB 10.7 MB/s eta 0:00:00
Collecting dropbox~=11.36.0 (from frappe==14.58.0)
  Downloading dropbox-11.36.2-py3-none-any.whl.metadata (4.3 kB)
Collecting google-api-python-client~=2.2.0 (from frappe==14.58.0)
  Downloading google_api_python_client-2.2.0-py2.py3-none-any.whl (7.0 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.0/7.0 MB 48.1 MB/s eta 0:00:00
Collecting google-auth-httplib2~=0.1.0 (from frappe==14.58.0)
  Downloading google_auth_httplib2-0.1.1-py2.py3-none-any.whl.metadata (2.1 kB)
Collecting google-auth-oauthlib~=0.4.4 (from frappe==14.58.0)
  Downloading google_auth_oauthlib-0.4.6-py2.py3-none-any.whl (18 kB)
Collecting google-auth~=1.29.0 (from frappe==14.58.0)
  Downloading google_auth-1.29.0-py2.py3-none-any.whl (142 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 142.9/142.9 kB 12.2 MB/s eta 0:00:00
Collecting posthog~=3.0.1 (from frappe==14.58.0)
  Downloading posthog-3.0.2-py2.py3-none-any.whl.metadata (2.0 kB)
Collecting cffi>=1.1.0 (from cairocffi==1.2.0->frappe==14.58.0)
  Using cached cffi-1.16.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting maxminddb (from maxminddb-geolite2==2018.703->frappe==14.58.0)
  Downloading maxminddb-2.5.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.1 kB)
Requirement already satisfied: setuptools>=39.2.0 in ./env/lib/python3.10/site-packages (from WeasyPrint==52.5->frappe==14.58.0) (59.6.0)
Collecting tinycss2>=1.0.0 (from WeasyPrint==52.5->frappe==14.58.0)
  Downloading tinycss2-1.2.1-py3-none-any.whl (21 kB)
Collecting cssselect2>=0.1 (from WeasyPrint==52.5->frappe==14.58.0)
  Downloading cssselect2-0.7.0-py3-none-any.whl (15 kB)
Collecting CairoSVG>=2.4.0 (from WeasyPrint==52.5->frappe==14.58.0)
  Downloading CairoSVG-2.7.1-py3-none-any.whl.metadata (2.7 kB)
Collecting Pyphen>=0.9.1 (from WeasyPrint==52.5->frappe==14.58.0)
  Downloading pyphen-0.14.0-py3-none-any.whl (2.0 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 76.7 MB/s eta 0:00:00
Collecting soupsieve>1.2 (from beautifulsoup4~=4.9.3->frappe==14.58.0)
  Downloading soupsieve-2.5-py3-none-any.whl.metadata (4.7 kB)
Collecting packaging (from bleach~=3.3.0->frappe==14.58.0)
  Downloading packaging-23.2-py3-none-any.whl.metadata (3.2 kB)
Collecting six>=1.9.0 (from bleach~=3.3.0->frappe==14.58.0)
  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
Collecting webencodings (from bleach~=3.3.0->frappe==14.58.0)
  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)
Collecting botocore<1.22.0,>=1.21.65 (from boto3~=1.18.49->frappe==14.58.0)
  Downloading botocore-1.21.65-py3-none-any.whl (8.0 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.0/8.0 MB 34.4 MB/s eta 0:00:00
Collecting jmespath<1.0.0,>=0.7.1 (from boto3~=1.18.49->frappe==14.58.0)
  Downloading jmespath-0.10.0-py2.py3-none-any.whl (24 kB)
Collecting s3transfer<0.6.0,>=0.5.0 (from boto3~=1.18.49->frappe==14.58.0)
  Downloading s3transfer-0.5.2-py3-none-any.whl (79 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 2.1 MB/s eta 0:00:00
Collecting stone>=2 (from dropbox~=11.36.0->frappe==14.58.0)
  Downloading stone-3.3.1-py3-none-any.whl (162 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 162.3/162.3 kB 2.9 MB/s eta 0:00:00
Collecting pbr (from git-url-parse~=1.2.2->frappe==14.58.0)
  Downloading pbr-6.0.0-py2.py3-none-any.whl.metadata (1.3 kB)
Collecting smmap<6,>=3.0.1 (from gitdb~=4.0.7->frappe==14.58.0)
  Downloading smmap-5.0.1-py3-none-any.whl.metadata (4.3 kB)
Collecting httplib2<1dev,>=0.15.0 (from google-api-python-client~=2.2.0->frappe==14.58.0)
  Downloading httplib2-0.22.0-py3-none-any.whl (96 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.9/96.9 kB 8.6 MB/s eta 0:00:00
Collecting google-api-core<2dev,>=1.21.0 (from google-api-python-client~=2.2.0->frappe==14.58.0)
  Downloading google_api_core-1.34.0-py3-none-any.whl (120 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 120.2/120.2 kB 4.5 MB/s eta 0:00:00
Collecting uritemplate<4dev,>=3.0.0 (from google-api-python-client~=2.2.0->frappe==14.58.0)
  Downloading uritemplate-3.0.1-py2.py3-none-any.whl (15 kB)
Collecting cachetools<5.0,>=2.0.0 (from google-auth~=1.29.0->frappe==14.58.0)
  Downloading cachetools-4.2.4-py3-none-any.whl (10 kB)
Collecting pyasn1-modules>=0.2.1 (from google-auth~=1.29.0->frappe==14.58.0)
  Downloading pyasn1_modules-0.3.0-py2.py3-none-any.whl (181 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 181.3/181.3 kB 12.1 MB/s eta 0:00:00
Collecting backcall (from ipython~=8.10.0->frappe==14.58.0)
  Downloading backcall-0.2.0-py2.py3-none-any.whl (11 kB)
Collecting decorator (from ipython~=8.10.0->frappe==14.58.0)
  Downloading decorator-5.1.1-py3-none-any.whl (9.1 kB)
Collecting jedi>=0.16 (from ipython~=8.10.0->frappe==14.58.0)
  Downloading jedi-0.19.1-py2.py3-none-any.whl.metadata (22 kB)
Collecting matplotlib-inline (from ipython~=8.10.0->frappe==14.58.0)
  Downloading matplotlib_inline-0.1.6-py3-none-any.whl (9.4 kB)
Collecting pickleshare (from ipython~=8.10.0->frappe==14.58.0)
  Downloading pickleshare-0.7.5-py2.py3-none-any.whl (6.9 kB)
Collecting prompt-toolkit<3.1.0,>=3.0.30 (from ipython~=8.10.0->frappe==14.58.0)
  Downloading prompt_toolkit-3.0.41-py3-none-any.whl.metadata (6.5 kB)
Collecting pygments>=2.4.0 (from ipython~=8.10.0->frappe==14.58.0)
  Downloading pygments-2.17.2-py3-none-any.whl.metadata (2.6 kB)
Collecting stack-data (from ipython~=8.10.0->frappe==14.58.0)
  Downloading stack_data-0.6.3-py3-none-any.whl.metadata (18 kB)
Collecting traitlets>=5 (from ipython~=8.10.0->frappe==14.58.0)
  Downloading traitlets-5.14.0-py3-none-any.whl.metadata (10 kB)
Collecting pexpect>4.3 (from ipython~=8.10.0->frappe==14.58.0)
  Downloading pexpect-4.9.0-py2.py3-none-any.whl.metadata (2.5 kB)
Collecting docopt>=0.6.2 (from num2words~=0.5.10->frappe==14.58.0)
  Downloading docopt-0.6.2.tar.gz (25 kB)
  Preparing metadata (setup.py) ... done
Collecting et-xmlfile (from openpyxl~=3.0.7->frappe==14.58.0)
  Downloading et_xmlfile-1.1.0-py3-none-any.whl (4.7 kB)
Collecting monotonic>=1.5 (from posthog~=3.0.1->frappe==14.58.0)
  Downloading monotonic-1.6-py2.py3-none-any.whl (8.2 kB)
Collecting backoff>=1.10.0 (from posthog~=3.0.1->frappe==14.58.0)
  Downloading backoff-2.2.1-py3-none-any.whl (15 kB)
Collecting cssselect (from premailer~=3.8.0->frappe==14.58.0)
  Downloading cssselect-1.2.0-py2.py3-none-any.whl (18 kB)
Collecting cssutils (from premailer~=3.8.0->frappe==14.58.0)
  Downloading cssutils-2.9.0-py3-none-any.whl.metadata (9.1 kB)
Collecting lxml (from premailer~=3.8.0->frappe==14.58.0)
  Downloading lxml-4.9.3-cp310-cp310-manylinux_2_28_x86_64.whl.metadata (3.8 kB)
Collecting charset-normalizer<4,>=2 (from requests~=2.31.0->frappe==14.58.0)
  Downloading charset_normalizer-3.3.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (33 kB)
Collecting idna<4,>=2.5 (from requests~=2.31.0->frappe==14.58.0)
  Downloading idna-3.6-py3-none-any.whl.metadata (9.9 kB)
Collecting certifi>=2017.4.17 (from requests~=2.31.0->frappe==14.58.0)
  Downloading certifi-2023.11.17-py3-none-any.whl.metadata (2.2 kB)
Collecting defusedxml (from CairoSVG>=2.4.0->WeasyPrint==52.5->frappe==14.58.0)
  Downloading defusedxml-0.7.1-py2.py3-none-any.whl (25 kB)
Collecting pycparser (from cffi>=1.1.0->cairocffi==1.2.0->frappe==14.58.0)
  Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB)
Collecting googleapis-common-protos<2.0dev,>=1.56.2 (from google-api-core<2dev,>=1.21.0->google-api-python-client~=2.2.0->frappe==14.58.0)
  Downloading googleapis_common_protos-1.62.0-py2.py3-none-any.whl.metadata (1.5 kB)
Collecting protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<4.0.0dev,>=3.19.5 (from google-api-core<2dev,>=1.21.0->google-api-python-client~=2.2.0->frappe==14.58.0)
  Downloading protobuf-3.20.3-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 54.9 MB/s eta 0:00:00
Collecting pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,<4,>=2.4.2 (from httplib2<1dev,>=0.15.0->google-api-python-client~=2.2.0->frappe==14.58.0)
  Downloading pyparsing-3.1.1-py3-none-any.whl.metadata (5.1 kB)
Collecting parso<0.9.0,>=0.8.3 (from jedi>=0.16->ipython~=8.10.0->frappe==14.58.0)
  Downloading parso-0.8.3-py2.py3-none-any.whl (100 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100.8/100.8 kB 9.6 MB/s eta 0:00:00
Collecting ptyprocess>=0.5 (from pexpect>4.3->ipython~=8.10.0->frappe==14.58.0)
  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
Collecting wcwidth (from prompt-toolkit<3.1.0,>=3.0.30->ipython~=8.10.0->frappe==14.58.0)
  Downloading wcwidth-0.2.12-py2.py3-none-any.whl.metadata (14 kB)
Collecting ply>=3.4 (from stone>=2->dropbox~=11.36.0->frappe==14.58.0)
  Downloading ply-3.11-py2.py3-none-any.whl (49 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.6/49.6 kB 5.3 MB/s eta 0:00:00
Collecting setuptools>=39.2.0 (from WeasyPrint==52.5->frappe==14.58.0)
  Using cached setuptools-69.0.2-py3-none-any.whl.metadata (6.3 kB)
Collecting executing>=1.2.0 (from stack-data->ipython~=8.10.0->frappe==14.58.0)
  Downloading executing-2.0.1-py2.py3-none-any.whl.metadata (9.0 kB)
Collecting asttokens>=2.1.0 (from stack-data->ipython~=8.10.0->frappe==14.58.0)
  Downloading asttokens-2.4.1-py2.py3-none-any.whl.metadata (5.2 kB)
Collecting pure-eval (from stack-data->ipython~=8.10.0->frappe==14.58.0)
  Downloading pure_eval-0.2.2-py3-none-any.whl (11 kB)
Downloading croniter-1.3.15-py2.py3-none-any.whl (19 kB)
Downloading cryptography-41.0.7-cp37-abi3-manylinux_2_28_x86_64.whl (4.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.4/4.4 MB 35.1 MB/s eta 0:00:00
Downloading dropbox-11.36.2-py3-none-any.whl (594 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 594.0/594.0 kB 43.5 MB/s eta 0:00:00
Downloading gitdb-4.0.11-py3-none-any.whl (62 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.7/62.7 kB 6.8 MB/s eta 0:00:00
Downloading GitPython-3.1.40-py3-none-any.whl (190 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 190.6/190.6 kB 16.2 MB/s eta 0:00:00
Downloading google_auth_httplib2-0.1.1-py2.py3-none-any.whl (9.3 kB)
Downloading gunicorn-21.2.0-py3-none-any.whl (80 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 80.2/80.2 kB 7.6 MB/s eta 0:00:00
Downloading markdown2-2.4.11-py2.py3-none-any.whl (41 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 41.1/41.1 kB 3.3 MB/s eta 0:00:00
Downloading MarkupSafe-2.1.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
Downloading num2words-0.5.13-py3-none-any.whl (143 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 143.3/143.3 kB 11.2 MB/s eta 0:00:00
Downloading Pillow-10.0.1-cp310-cp310-manylinux_2_28_x86_64.whl (3.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 48.0 MB/s eta 0:00:00
Downloading posthog-3.0.2-py2.py3-none-any.whl (37 kB)
Downloading psutil-5.9.6-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (283 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 283.6/283.6 kB 2.9 MB/s eta 0:00:00
Downloading psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 84.2 MB/s eta 0:00:00
Downloading pycryptodome-3.18.0-cp35-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 73.4 MB/s eta 0:00:00
Downloading pyOpenSSL-23.2.0-py3-none-any.whl (59 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 kB 5.2 MB/s eta 0:00:00
Downloading PyYAML-6.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (705 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 705.5/705.5 kB 48.1 MB/s eta 0:00:00
Downloading requests-2.31.0-py3-none-any.whl (62 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.6/62.6 kB 5.4 MB/s eta 0:00:00
Downloading RestrictedPython-6.2-py3-none-any.whl (26 kB)
Downloading urllib3-1.26.18-py2.py3-none-any.whl (143 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 143.8/143.8 kB 15.3 MB/s eta 0:00:00
Downloading werkzeug-2.3.8-py3-none-any.whl (242 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 242.3/242.3 kB 21.9 MB/s eta 0:00:00
Downloading CairoSVG-2.7.1-py3-none-any.whl (43 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.2/43.2 kB 3.1 MB/s eta 0:00:00
Downloading certifi-2023.11.17-py3-none-any.whl (162 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 162.5/162.5 kB 13.4 MB/s eta 0:00:00
Using cached cffi-1.16.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (443 kB)
Downloading charset_normalizer-3.3.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (142 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 142.1/142.1 kB 13.9 MB/s eta 0:00:00
Downloading idna-3.6-py3-none-any.whl (61 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.6/61.6 kB 6.2 MB/s eta 0:00:00
Downloading jedi-0.19.1-py2.py3-none-any.whl (1.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 60.7 MB/s eta 0:00:00
Downloading pexpect-4.9.0-py2.py3-none-any.whl (63 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.8/63.8 kB 5.4 MB/s eta 0:00:00
Downloading prompt_toolkit-3.0.41-py3-none-any.whl (385 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.5/385.5 kB 26.9 MB/s eta 0:00:00
Downloading pygments-2.17.2-py3-none-any.whl (1.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 57.4 MB/s eta 0:00:00
Downloading smmap-5.0.1-py3-none-any.whl (24 kB)
Downloading soupsieve-2.5-py3-none-any.whl (36 kB)
Downloading traitlets-5.14.0-py3-none-any.whl (85 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 85.2/85.2 kB 9.1 MB/s eta 0:00:00
Downloading cssutils-2.9.0-py3-none-any.whl (398 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 398.5/398.5 kB 29.9 MB/s eta 0:00:00
Downloading lxml-4.9.3-cp310-cp310-manylinux_2_28_x86_64.whl (7.9 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.9/7.9 MB 52.9 MB/s eta 0:00:00
Downloading maxminddb-2.5.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (86 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.0/87.0 kB 9.1 MB/s eta 0:00:00
Using cached setuptools-69.0.2-py3-none-any.whl (819 kB)
Downloading packaging-23.2-py3-none-any.whl (53 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.0/53.0 kB 5.5 MB/s eta 0:00:00
Downloading pbr-6.0.0-py2.py3-none-any.whl (107 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 107.5/107.5 kB 10.2 MB/s eta 0:00:00
Downloading stack_data-0.6.3-py3-none-any.whl (24 kB)
Downloading asttokens-2.4.1-py2.py3-none-any.whl (27 kB)
Downloading executing-2.0.1-py2.py3-none-any.whl (24 kB)
Downloading googleapis_common_protos-1.62.0-py2.py3-none-any.whl (228 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 228.7/228.7 kB 18.8 MB/s eta 0:00:00
Downloading pyparsing-3.1.1-py3-none-any.whl (103 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.1/103.1 kB 9.0 MB/s eta 0:00:00
Downloading wcwidth-0.2.12-py2.py3-none-any.whl (34 kB)
Building wheels for collected packages: frappe, cairocffi, maxminddb-geolite2, hiredis, premailer, PyPika, PyQRCode, rauth, traceback-with-variables, zxcvbn, docopt
  Building editable for frappe (pyproject.toml) ... done
  Created wheel for frappe: filename=frappe-14.58.0-py3-none-any.whl size=3773 sha256=9297cf8d4e63c45ca5485e77df025002e2c5082d035f138685ef7930594c7962
  Stored in directory: /tmp/pip-ephem-wheel-cache-w4nhty8y/wheels/6c/9e/9f/59b27e180b4d51b03a03299bbdaf6166b3bb5399a76ce26e81
  Building wheel for cairocffi (setup.py) ... done
  Created wheel for cairocffi: filename=cairocffi-1.2.0-py3-none-any.whl size=89560 sha256=d14108b0449518809b59ed1bb7c1b5e2ab3b0114d4c18150ad29fe5edda33780
  Stored in directory: /home/frappe/.cache/pip/wheels/fa/b7/02/b27efa6d0e4b25b61c28e4d8276325e402dc8ca5b9034d59aa
  Building wheel for maxminddb-geolite2 (setup.py) ... done
  Created wheel for maxminddb-geolite2: filename=maxminddb_geolite2-2018.703-py3-none-any.whl size=26407051 sha256=d62c24b9f361601898c4b1208fe667cd80f2cc3431e24f94d1ba8b6cc6eb90e9
  Stored in directory: /home/frappe/.cache/pip/wheels/a5/71/c0/8a053957754d9177cf23aec9927971f9ead13517426f0d63d3
  Building wheel for hiredis (setup.py) ... done
  Created wheel for hiredis: filename=hiredis-2.0.0-cp310-cp310-linux_x86_64.whl size=77886 sha256=28f6b88432259b8f8e0d15819e9d330c72a166b5ba6f36562731e980b31631c5
  Stored in directory: /home/frappe/.cache/pip/wheels/a9/b0/b0/a58f2bc314a1c78d077171184d746540f45437234bc67e4b4d
  Building wheel for premailer (setup.py) ... done
  Created wheel for premailer: filename=premailer-3.8.0-py2.py3-none-any.whl size=19303 sha256=bb84283de30ebb514bed394b27f03288ed8d3e02499974fcf5f970bb5ad402f6
  Stored in directory: /home/frappe/.cache/pip/wheels/02/af/6e/c233809feb9f5ccaf030b2c58918f3ac5a6d9809ce39d23789
  Building wheel for PyPika (pyproject.toml) ... done
  Created wheel for PyPika: filename=PyPika-0.48.9-py2.py3-none-any.whl size=53723 sha256=eb894eeeedb4e7d74dda819872a01d144451c7b6b9b02f8bdf423cff54ed8de9
  Stored in directory: /home/frappe/.cache/pip/wheels/e1/26/51/d0bffb3d2fd82256676d7ad3003faea3bd6dddc9577af665f4
  Building wheel for PyQRCode (setup.py) ... done
  Created wheel for PyQRCode: filename=PyQRCode-1.2.1-py3-none-any.whl size=36240 sha256=9a56e1b2c76805872bc9fc940f053395c80b47bf5dd51f3a2e4f5477b0d685ae
  Stored in directory: /home/frappe/.cache/pip/wheels/34/2d/20/082874e49a32cdcc87ebaf99dd0099fb7774ef30f010dfb6f2
  Building wheel for rauth (setup.py) ... done
  Created wheel for rauth: filename=rauth-0.7.3-py3-none-any.whl size=16077 sha256=396d21268a7e137078dcadbaee44e6b27ef8270cffb46ee05aa9dee90bf5e4a2
  Stored in directory: /home/frappe/.cache/pip/wheels/73/f1/e3/dbb192d15a0eff9f22caac2d25c202b4a0ad20f006dd2e33d5
  Building wheel for traceback-with-variables (setup.py) ... done
  Created wheel for traceback-with-variables: filename=traceback_with_variables-2.0.4-py3-none-any.whl size=16759 sha256=55d1169e104e6f2b8e2775a47130453156b310a53313e37e968b7eb51775e0fb
  Stored in directory: /home/frappe/.cache/pip/wheels/65/17/16/0aa85f4e50a8e08d1f0db63780a52036923637126ad70eb225
  Building wheel for zxcvbn (setup.py) ... done
  Created wheel for zxcvbn: filename=zxcvbn-4.4.28-py2.py3-none-any.whl size=408153 sha256=b4311f6969968a3dc182c7361970ea6267470506a594b2dfbd40030a5491a64e
  Stored in directory: /home/frappe/.cache/pip/wheels/ef/89/c6/a0e065af99073821bb4b83f6ec0561e981fc00498fe8e9c45d
  Building wheel for docopt (setup.py) ... done
  Created wheel for docopt: filename=docopt-0.6.2-py2.py3-none-any.whl size=13724 sha256=46f887658af04156719943a3407cca94ee216514dbef0659cc35b9fdb22fa7a5
  Stored in directory: /home/frappe/.cache/pip/wheels/fc/ab/d4/5da2067ac95b36618c629a5f93f809425700506f72c9732fac
Successfully built frappe cairocffi maxminddb-geolite2 hiredis premailer PyPika PyQRCode rauth traceback-with-variables zxcvbn docopt
Installing collected packages: zxcvbn, Whoosh, webencodings, wcwidth, pytz, PyQRCode, pypng, PyPika, pyotp, pyasn1, pure-eval, ptyprocess, ply, pickleshare, phonenumbers, pdfkit, passlib, monotonic, filetype, email-reply-parser, docopt, bleach-allowlist, backcall, xlrd, urllib3, uritemplate, traitlets, traceback-with-variables, tinycss2, terminaltables, tenacity, sqlparse, soupsieve, smmap, six, setuptools, semantic-version, rsa, RestrictedPython, redis, PyYAML, Pyphen, PyPDF2, pyparsing, PyMySQL, PyJWT, pygments, pycryptodome, pycparser, pyasn1-modules, psycopg2-binary, psutil, protobuf, prompt-toolkit, Pillow, pexpect, pbr, parso, packaging, oauthlib, num2words, MarkupSafe, markdown2, lxml, ldap3, jmespath, idna, hiredis, filelock, executing, et-xmlfile, defusedxml, decorator, cssutils, cssselect, Click, charset-normalizer, chardet, certifi, cachetools, backoff, Babel, Werkzeug, stone, rq, requests, python-dateutil, openpyxl, maxminddb, matplotlib-inline, Jinja2, jedi, httplib2, html5lib, gunicorn, googleapis-common-protos, google-auth, gitdb, git-url-parse, cssselect2, cffi, bleach, beautifulsoup4, asttokens, stack-data, requests-oauthlib, rauth, premailer, posthog, maxminddb-geolite2, markdownify, google-auth-httplib2, google-api-core, GitPython, dropbox, cryptography, croniter, cairocffi, botocore, s3transfer, pyOpenSSL, ipython, google-auth-oauthlib, google-api-python-client, CairoSVG, WeasyPrint, boto3, frappe
  Attempting uninstall: setuptools
    Found existing installation: setuptools 59.6.0
    Uninstalling setuptools-59.6.0:
      Successfully uninstalled setuptools-59.6.0
Successfully installed Babel-2.9.1 CairoSVG-2.7.1 Click-7.1.2 GitPython-3.1.40 Jinja2-3.1.2 MarkupSafe-2.1.3 Pillow-10.0.1 PyJWT-2.4.0 PyMySQL-1.0.3 PyPDF2-2.1.1 PyPika-0.48.9 PyQRCode-1.2.1 PyYAML-6.0.1 Pyphen-0.14.0 RestrictedPython-6.2 WeasyPrint-52.5 Werkzeug-2.3.8 Whoosh-2.7.4 asttokens-2.4.1 backcall-0.2.0 backoff-2.2.1 beautifulsoup4-4.9.3 bleach-3.3.1 bleach-allowlist-1.0.3 boto3-1.18.65 botocore-1.21.65 cachetools-4.2.4 cairocffi-1.2.0 certifi-2023.11.17 cffi-1.16.0 chardet-5.1.0 charset-normalizer-3.3.2 croniter-1.3.15 cryptography-41.0.7 cssselect-1.2.0 cssselect2-0.7.0 cssutils-2.9.0 decorator-5.1.1 defusedxml-0.7.1 docopt-0.6.2 dropbox-11.36.2 email-reply-parser-0.5.12 et-xmlfile-1.1.0 executing-2.0.1 filelock-3.8.2 filetype-1.2.0 frappe-14.58.0 git-url-parse-1.2.2 gitdb-4.0.11 google-api-core-1.34.0 google-api-python-client-2.2.0 google-auth-1.29.0 google-auth-httplib2-0.1.1 google-auth-oauthlib-0.4.6 googleapis-common-protos-1.62.0 gunicorn-21.2.0 hiredis-2.0.0 html5lib-1.1 httplib2-0.22.0 idna-3.6 ipython-8.10.0 jedi-0.19.1 jmespath-0.10.0 ldap3-2.9.1 lxml-4.9.3 markdown2-2.4.11 markdownify-0.11.6 matplotlib-inline-0.1.6 maxminddb-2.5.1 maxminddb-geolite2-2018.703 monotonic-1.6 num2words-0.5.13 oauthlib-3.2.2 openpyxl-3.0.10 packaging-23.2 parso-0.8.3 passlib-1.7.4 pbr-6.0.0 pdfkit-1.0.0 pexpect-4.9.0 phonenumbers-8.12.40 pickleshare-0.7.5 ply-3.11 posthog-3.0.2 premailer-3.8.0 prompt-toolkit-3.0.41 protobuf-3.20.3 psutil-5.9.6 psycopg2-binary-2.9.9 ptyprocess-0.7.0 pure-eval-0.2.2 pyOpenSSL-23.2.0 pyasn1-0.4.8 pyasn1-modules-0.3.0 pycparser-2.21 pycryptodome-3.18.0 pygments-2.17.2 pyotp-2.6.0 pyparsing-3.1.1 pypng-0.20220715.0 python-dateutil-2.8.2 pytz-2022.1 rauth-0.7.3 redis-3.5.3 requests-2.31.0 requests-oauthlib-1.3.1 rq-1.11.1 rsa-4.9 s3transfer-0.5.2 semantic-version-2.10.0 setuptools-69.0.2 six-1.16.0 smmap-5.0.1 soupsieve-2.5 sqlparse-0.4.4 stack-data-0.6.3 stone-3.3.1 tenacity-8.0.1 terminaltables-3.1.10 tinycss2-1.2.1 traceback-with-variables-2.0.4 traitlets-5.14.0 uritemplate-3.0.1 urllib3-1.26.18 wcwidth-0.2.12 webencodings-0.5.1 xlrd-2.0.1 zxcvbn-4.4.28
$ yarn install
yarn install v1.22.21
[1/5] Validating package.json...
[2/5] Resolving packages...
[3/5] Fetching packages...
[4/5] Linking dependencies...
warning " > @frappe/esbuild-plugin-postcss2@0.1.3" has unmet peer dependency "less@^4.x".
warning " > @frappe/esbuild-plugin-postcss2@0.1.3" has unmet peer dependency "stylus@^0.x".
[5/5] Building fresh packages...
$ npm run snyk-protect

> snyk-protect
> snyk-protect

Applied Snyk patches.
Done in 50.59s.
Found existing apps updating states...
WARN: restart failed: Couldn't find supervisorctl in PATH
Getting erpnext
$ git clone https://github.com/frappe/erpnext.git --branch version-14 --depth 1 --origin upstream
Cloning into 'erpnext'...
remote: Enumerating objects: 5057, done.
remote: Counting objects: 100% (5057/5057), done.
remote: Compressing objects: 100% (4488/4488), done.
remote: Total 5057 (delta 933), reused 2270 (delta 339), pack-reused 0
Receiving objects: 100% (5057/5057), 16.35 MiB | 7.29 MiB/s, done.
Resolving deltas: 100% (933/933), done.
Ignoring dependencies of erpnext. To install dependencies use --resolve-deps
Installing erpnext
$ /home/frappe/frappe-bench/env/bin/python -m pip install  --upgrade -e /home/frappe/frappe-bench/apps/erpnext 
Obtaining file:///home/frappe/frappe-bench/apps/erpnext
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Collecting pycountry~=20.7.3 (from erpnext==14.53.0)
  Downloading pycountry-20.7.3.tar.gz (10.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.1/10.1 MB 21.5 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting python-stdnum~=1.16 (from erpnext==14.53.0)
  Downloading python_stdnum-1.19-py2.py3-none-any.whl.metadata (17 kB)
Collecting Unidecode~=1.2.0 (from erpnext==14.53.0)
  Downloading Unidecode-1.2.0-py2.py3-none-any.whl (241 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 241.7/241.7 kB 21.5 MB/s eta 0:00:00
Collecting redisearch~=2.1.0 (from erpnext==14.53.0)
  Downloading redisearch-2.1.1-py3-none-any.whl (26 kB)
Collecting rapidfuzz~=2.15.0 (from erpnext==14.53.0)
  Downloading rapidfuzz-2.15.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.0 kB)
Collecting holidays~=0.28 (from erpnext==14.53.0)
  Downloading holidays-0.38-py3-none-any.whl.metadata (21 kB)
Collecting gocardless-pro~=1.22.0 (from erpnext==14.53.0)
  Downloading gocardless_pro-1.22.0.tar.gz (35 kB)
  Preparing metadata (setup.py) ... done
Collecting googlemaps (from erpnext==14.53.0)
  Downloading googlemaps-4.10.0.tar.gz (33 kB)
  Preparing metadata (setup.py) ... done
Collecting plaid-python~=7.2.1 (from erpnext==14.53.0)
  Downloading plaid-python-7.2.1.tar.gz (18 kB)
  Preparing metadata (setup.py) ... done
Collecting python-youtube~=0.8.0 (from erpnext==14.53.0)
  Downloading python_youtube-0.8.3-py3-none-any.whl (42 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.3/42.3 kB 3.9 MB/s eta 0:00:00
Collecting taxjar~=1.9.2 (from erpnext==14.53.0)
  Downloading taxjar-1.9.2.tar.gz (11 kB)
  Preparing metadata (setup.py) ... done
Collecting tweepy~=3.10.0 (from erpnext==14.53.0)
  Downloading tweepy-3.10.0-py2.py3-none-any.whl (30 kB)
Requirement already satisfied: requests>=2.6 in ./env/lib/python3.10/site-packages (from gocardless-pro~=1.22.0->erpnext==14.53.0) (2.31.0)
Requirement already satisfied: six in ./env/lib/python3.10/site-packages (from gocardless-pro~=1.22.0->erpnext==14.53.0) (1.16.0)
Requirement already satisfied: python-dateutil in ./env/lib/python3.10/site-packages (from holidays~=0.28->erpnext==14.53.0) (2.8.2)
Collecting dataclasses-json<0.6.0,>=0.5.3 (from python-youtube~=0.8.0->erpnext==14.53.0)
  Downloading dataclasses_json-0.5.14-py3-none-any.whl.metadata (22 kB)
Collecting isodate<0.7.0,>=0.6.0 (from python-youtube~=0.8.0->erpnext==14.53.0)
  Downloading isodate-0.6.1-py2.py3-none-any.whl (41 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 41.7/41.7 kB 4.1 MB/s eta 0:00:00
Requirement already satisfied: requests-oauthlib<2.0.0,>=1.3.0 in ./env/lib/python3.10/site-packages (from python-youtube~=0.8.0->erpnext==14.53.0) (1.3.1)
Requirement already satisfied: hiredis<3.0.0,>=2.0.0 in ./env/lib/python3.10/site-packages (from redisearch~=2.1.0->erpnext==14.53.0) (2.0.0)
Requirement already satisfied: redis==3.5.3 in ./env/lib/python3.10/site-packages (from redisearch~=2.1.0->erpnext==14.53.0) (3.5.3)
Collecting rejson<0.6.0,>=0.5.4 (from redisearch~=2.1.0->erpnext==14.53.0)
  Downloading rejson-0.5.6-py3-none-any.whl (8.9 kB)
Collecting jsonobject>=0.9.10 (from taxjar~=1.9.2->erpnext==14.53.0)
  Downloading jsonobject-2.1.0.tar.gz (406 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 406.2/406.2 kB 32.8 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... done
Collecting marshmallow<4.0.0,>=3.18.0 (from dataclasses-json<0.6.0,>=0.5.3->python-youtube~=0.8.0->erpnext==14.53.0)
  Downloading marshmallow-3.20.1-py3-none-any.whl.metadata (7.8 kB)
Collecting typing-inspect<1,>=0.4.0 (from dataclasses-json<0.6.0,>=0.5.3->python-youtube~=0.8.0->erpnext==14.53.0)
  Downloading typing_inspect-0.9.0-py3-none-any.whl.metadata (1.5 kB)
Requirement already satisfied: charset-normalizer<4,>=2 in ./env/lib/python3.10/site-packages (from requests>=2.6->gocardless-pro~=1.22.0->erpnext==14.53.0) (3.3.2)
Requirement already satisfied: idna<4,>=2.5 in ./env/lib/python3.10/site-packages (from requests>=2.6->gocardless-pro~=1.22.0->erpnext==14.53.0) (3.6)
Requirement already satisfied: urllib3<3,>=1.21.1 in ./env/lib/python3.10/site-packages (from requests>=2.6->gocardless-pro~=1.22.0->erpnext==14.53.0) (1.26.18)
Requirement already satisfied: certifi>=2017.4.17 in ./env/lib/python3.10/site-packages (from requests>=2.6->gocardless-pro~=1.22.0->erpnext==14.53.0) (2023.11.17)
Requirement already satisfied: oauthlib>=3.0.0 in ./env/lib/python3.10/site-packages (from requests-oauthlib<2.0.0,>=1.3.0->python-youtube~=0.8.0->erpnext==14.53.0) (3.2.2)
Collecting PySocks!=1.5.7,>=1.5.6 (from requests[socks]>=2.11.1->tweepy~=3.10.0->erpnext==14.53.0)
  Downloading PySocks-1.7.1-py3-none-any.whl (16 kB)
Requirement already satisfied: packaging>=17.0 in ./env/lib/python3.10/site-packages (from marshmallow<4.0.0,>=3.18.0->dataclasses-json<0.6.0,>=0.5.3->python-youtube~=0.8.0->erpnext==14.53.0) (23.2)
Collecting mypy-extensions>=0.3.0 (from typing-inspect<1,>=0.4.0->dataclasses-json<0.6.0,>=0.5.3->python-youtube~=0.8.0->erpnext==14.53.0)
  Downloading mypy_extensions-1.0.0-py3-none-any.whl (4.7 kB)
Collecting typing-extensions>=3.7.4 (from typing-inspect<1,>=0.4.0->dataclasses-json<0.6.0,>=0.5.3->python-youtube~=0.8.0->erpnext==14.53.0)
  Downloading typing_extensions-4.9.0-py3-none-any.whl.metadata (3.0 kB)
Downloading holidays-0.38-py3-none-any.whl (854 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 854.3/854.3 kB 52.8 MB/s eta 0:00:00
Downloading python_stdnum-1.19-py2.py3-none-any.whl (1.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 51.3 MB/s eta 0:00:00
Downloading rapidfuzz-2.15.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 62.3 MB/s eta 0:00:00
Downloading dataclasses_json-0.5.14-py3-none-any.whl (26 kB)
Downloading marshmallow-3.20.1-py3-none-any.whl (49 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.4/49.4 kB 4.2 MB/s eta 0:00:00
Downloading typing_inspect-0.9.0-py3-none-any.whl (8.8 kB)
Downloading typing_extensions-4.9.0-py3-none-any.whl (32 kB)
Building wheels for collected packages: erpnext, gocardless-pro, plaid-python, pycountry, taxjar, googlemaps, jsonobject
  Building editable for erpnext (pyproject.toml) ... done
  Created wheel for erpnext: filename=erpnext-14.53.0-py3-none-any.whl size=2858 sha256=d96db21212705972909cc74344071be596f6aa1e34868d89f0495234f6101912
  Stored in directory: /tmp/pip-ephem-wheel-cache-3quils7i/wheels/2f/35/64/f3885370305b74a8079c1b60949fdb2128dc824d1e6b44879e
  Building wheel for gocardless-pro (setup.py) ... done
  Created wheel for gocardless-pro: filename=gocardless_pro-1.22.0-py3-none-any.whl size=54040 sha256=c18fdc86064047e88e5fd6a1917e69307776a13ebdeaf9501c29cbf99afca9f9
  Stored in directory: /home/frappe/.cache/pip/wheels/13/9b/ac/d05de45f5be746b7989b7274bd4aaed4d75b4d932dbbda6e5e
  Building wheel for plaid-python (setup.py) ... done
  Created wheel for plaid-python: filename=plaid_python-7.2.1-py3-none-any.whl size=32054 sha256=3db241e950b3fc28c2127f5adfdaf506241bc6138dc7f86db1e1a7d52b9a3c2c
  Stored in directory: /home/frappe/.cache/pip/wheels/0e/bf/bd/9c3af2e21871386935cff73d0eda5b435b26b7ed915fb05127
  Building wheel for pycountry (setup.py) ... done
  Created wheel for pycountry: filename=pycountry-20.7.3-py2.py3-none-any.whl size=10746859 sha256=dd26ed97b01efc5b5cd520f8fd13cecbe01d95791ccf01cf58d3301da1e4c149
  Stored in directory: /home/frappe/.cache/pip/wheels/13/02/fb/ae3c9bc96046c6ac677a5fca5a6b52519f1c8ba91e6f3a00dd
  Building wheel for taxjar (setup.py) ... done
  Created wheel for taxjar: filename=taxjar-1.9.2-py3-none-any.whl size=11590 sha256=c47b0a496e4d1c92441808ad0da94ef5d51edfebea5312c91eea24008c3bc9f3
  Stored in directory: /home/frappe/.cache/pip/wheels/cf/24/ee/7ba9271e7e30851fdb7d017867b3815b5eadf9ab471f398ab7
  Building wheel for googlemaps (setup.py) ... done
  Created wheel for googlemaps: filename=googlemaps-4.10.0-py3-none-any.whl size=40711 sha256=2462b30ba74d9247315f50e0f989a28d5542d35f10ab99d25f9c483dbefa7e85
  Stored in directory: /home/frappe/.cache/pip/wheels/17/f8/79/999d5d37118fd35d7219ef57933eb9d09886c4c4503a800f84
  Building wheel for jsonobject (setup.py) ... done
  Created wheel for jsonobject: filename=jsonobject-2.1.0-cp310-cp310-linux_x86_64.whl size=1489325 sha256=34cad6101bee9a4abe5f557c35b15c60e0d42a24cf9944216df8052d9003d5e9
  Stored in directory: /home/frappe/.cache/pip/wheels/d7/c8/7b/e6810c51259b67bfaf89c8e73f6ef55ff3cb0a3954a1188e59
Successfully built erpnext gocardless-pro plaid-python pycountry taxjar googlemaps jsonobject
Installing collected packages: python-stdnum, pycountry, Unidecode, typing-extensions, rejson, rapidfuzz, PySocks, mypy-extensions, marshmallow, jsonobject, isodate, typing-inspect, taxjar, redisearch, plaid-python, holidays, googlemaps, gocardless-pro, tweepy, dataclasses-json, python-youtube, erpnext
Successfully installed PySocks-1.7.1 Unidecode-1.2.0 dataclasses-json-0.5.14 erpnext-14.53.0 gocardless-pro-1.22.0 googlemaps-4.10.0 holidays-0.38 isodate-0.6.1 jsonobject-2.1.0 marshmallow-3.20.1 mypy-extensions-1.0.0 plaid-python-7.2.1 pycountry-20.7.3 python-stdnum-1.19 python-youtube-0.8.3 rapidfuzz-2.15.2 redisearch-2.1.1 rejson-0.5.6 taxjar-1.9.2 tweepy-3.10.0 typing-extensions-4.9.0 typing-inspect-0.9.0
$ yarn install
yarn install v1.22.21
[1/4] Resolving packages...
[2/4] Fetching packages...
[3/4] Linking dependencies...
[4/4] Building fresh packages...
Done in 1.35s.
WARN: restart failed: Couldn't find supervisorctl in PATH
$ bench build
Assets for Release v14.58.0 don't exist
✔ Application Assets Linked                                                                                                                                           


yarn run v1.22.21
$ node esbuild --production --run-build-command
clean: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration
Browserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating
clean: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration
File                                                        Size

frappe/dist/js/
├─ bootstrap-4-web.bundle.22U72DEL.js                       1.73 Kb
├─ controls.bundle.RFWHET4W.js                              1229.20 Kb
├─ data_import_tools.bundle.RUC5YCOC.js                     106.86 Kb
├─ desk.bundle.EJVULBTK.js                                  1432.15 Kb
├─ dialog.bundle.NO55LR4T.js                                54.78 Kb
├─ form.bundle.YASSNQKJ.js                                  160.52 Kb
├─ frappe-web.bundle.NEZLGMSC.js                            1176.44 Kb
├─ libs.bundle.5QWQF2M7.js                                  790.84 Kb
├─ list.bundle.C6AXNBFT.js                                  190.85 Kb
├─ logtypes.bundle.7STJ7YLS.js                              0.73 Kb
├─ onboarding_tours.bundle.DZEAOU4B.js                      7.60 Kb
├─ recorder.bundle.BE4B6ZDU.js                              181.99 Kb
├─ report.bundle.KPSOG7LN.js                                174.30 Kb
├─ telemetry.bundle.ESRPVZ24.js                             2.22 Kb
├─ user_profile_controller.bundle.WCRWDNHY.js               11.98 Kb
├─ video_player.bundle.UO3KNN5D.js                          120.59 Kb
├─ web_form.bundle.RBJ3M4XR.js                              1565.50 Kb
├─ print_format_builder.bundle.4HKLLEUN.js                  169.76 Kb
├─ build_events.bundle.P7UL6LUB.js                          11.60 Kb
└─ kanban_board.bundle.YPJO3YOS.js                          27.89 Kb

erpnext/dist/js/
├─ bank-reconciliation-tool.bundle.BMWNRIAZ.js              17.00 Kb
├─ erpnext-web.bundle.BG2VU2XO.js                           33.47 Kb
├─ erpnext.bundle.AKIDYPCV.js                               175.84 Kb
├─ hierarchy-chart.bundle.PM5NQB36.js                       197.67 Kb
├─ item-dashboard.bundle.WJUAWVI6.js                        10.07 Kb
└─ point-of-sale.bundle.YGWIJGXF.js                         92.91 Kb

frappe/dist/css/
├─ desk.bundle.CVD4MJMR.css                                 560.53 Kb
├─ email.bundle.3A67PXJA.css                                5.97 Kb
├─ login.bundle.6YT5I6CJ.css                                27.68 Kb
├─ print.bundle.3XXV7KPQ.css                                196.35 Kb
├─ print_format.bundle.QA54FZEA.css                         178.84 Kb
├─ report.bundle.D3Z72F56.css                               5.36 Kb
├─ web_form.bundle.YPENJYSV.css                             14.73 Kb
└─ website.bundle.MMSL6SG7.css                              423.82 Kb

erpnext/dist/css/
├─ erpnext-web.bundle.RUE2FQZW.css                          25.63 Kb
├─ erpnext.bundle.EWPGCFOH.css                              45.29 Kb
└─ erpnext_email.bundle.AFGTSMDL.css                        0.56 Kb

frappe/dist/css-rtl/
├─ desk.bundle.7G2TQRYM.css                                 560.79 Kb
├─ email.bundle.FNXIETBC.css                                5.98 Kb
├─ login.bundle.54AKQCWU.css                                27.68 Kb
├─ print.bundle.CVSA5FJA.css                                196.49 Kb
├─ print_format.bundle.QBTSWS43.css                         178.96 Kb
├─ report.bundle.RHYEAJXW.css                               5.35 Kb
├─ web_form.bundle.PTAVFIU3.css                             14.72 Kb
└─ website.bundle.OBB3WGYP.css                              423.97 Kb

erpnext/dist/css-rtl/
├─ erpnext-web.bundle.H2JFKUXJ.css                          25.62 Kb
├─ erpnext.bundle.E2CKMPD3.css                              45.28 Kb
└─ erpnext_email.bundle.2FG7RVOH.css                        0.56 Kb

 DONE  Total Build Time: 13.823s

 WARN  Cannot connect to redis_cache to update assets_json
 WARN  Cannot connect to redis_cache to update assets_json
 WARN  Cannot connect to redis_cache to update assets_json
Done in 17.28s.
SUCCESS: Bench frappe-bench initialized
Bench installation complete!
Preparing for Production installation. This could take a minute... or two so please be patient.
Enter the site name (If you wish to install SSL later, please enter a FQDN): underhood.online    
Enter the Administrator password: 
Confirm password: 
Password confirmed

expect is already the newest version (5.45.4-2build1).
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
Now setting up your site. This might take a few minutes. Please wait...
spawn bench new-site underhood.online --install-app erpnext
MySQL root password: 

Installing frappe...
Updating DocTypes for frappe        : [========================================] 100%
Updating country info               : [========================================] 100%
Set Administrator password: 
Re-enter Administrator password: 
Updating Dashboard for frappe

Installing erpnext...
Updating DocTypes for erpnext       : [========================================] 100%
Updating customizations for Address
Updating customizations for Contact
Updating Dashboard for erpnext
underhood.online: SystemSettings.enable_scheduler is UNSET
*** Scheduler is disabled ***
Would you like to continue with production install? (yes/no)
Response: yes
Installing packages and dependencies for Production...
Setting Up prerequisites...
$ sudo /usr/bin/python3 -m pip install ansible
Collecting ansible
  Downloading ansible-9.1.0-py3-none-any.whl (48.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.1/48.1 MB 18.2 MB/s eta 0:00:00
Collecting ansible-core~=2.16.1
  Downloading ansible_core-2.16.2-py3-none-any.whl (2.2 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.2/2.2 MB 77.4 MB/s eta 0:00:00
Requirement already satisfied: jinja2>=3.0.0 in /usr/lib/python3/dist-packages (from ansible-core~=2.16.1->ansible) (3.0.3)
Requirement already satisfied: cryptography in /usr/lib/python3/dist-packages (from ansible-core~=2.16.1->ansible) (3.4.8)
Requirement already satisfied: PyYAML>=5.1 in /usr/lib/python3/dist-packages (from ansible-core~=2.16.1->ansible) (5.4.1)
Collecting resolvelib<1.1.0,>=0.5.3
  Downloading resolvelib-1.0.1-py2.py3-none-any.whl (17 kB)
Collecting packaging
  Downloading packaging-23.2-py3-none-any.whl (53 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.0/53.0 KB 8.2 MB/s eta 0:00:00
Installing collected packages: resolvelib, packaging, ansible-core, ansible
Successfully installed ansible-9.1.0 ansible-core-2.16.2 packaging-23.2 resolvelib-1.0.1
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
$ bench setup role fail2ban
ansible-playbook [core 2.16.2]
  config file = None
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.10/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.10.12 (main, Nov 20 2023, 15:14:05) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
No config file found; using defaults
setting up inventory plugins
Loading collection ansible.builtin from 
host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
redirecting (type: modules) ansible.builtin.homebrew to community.general.homebrew
Loading collection community.general from /usr/local/lib/python3.10/dist-packages/ansible_collections/community/general
redirecting (type: modules) ansible.builtin.selinux to ansible.posix.selinux
Loading collection ansible.posix from /usr/local/lib/python3.10/dist-packages/ansible_collections/ansible/posix
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.10/dist-packages/ansible/plugins/callback/default.py
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: site.yml ***************************************************************************************************************************************************
Positional arguments: site.yml
verbosity: 4
connection: local
become_method: sudo
tags: ('fail2ban',)
inventory: ('/etc/ansible/hosts',)
extra_vars: ('{"production": true, "admin_emails": "", "mysql_root_password": null, "container": false}',)
forks: 5
2 plays in site.yml

PLAY [localhost] *****************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/site.yml:4
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568 `" && echo ansible-tmp-1702363093.2681162-3822-260883811830568="` echo /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpy5jvzd10 TO /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568/ /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363093.2681162-3822-260883811830568/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]

TASK [fail2ban : Install fail2ban] ***********************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/tasks/main.yml:2
skipping: [localhost] => {
    "changed": false,
    "false_condition": "ansible_distribution == 'CentOS'",
    "skip_reason": "Conditional result was False"
}

TASK [fail2ban : Install fail2ban] ***********************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/tasks/main.yml:6
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090 `" && echo ansible-tmp-1702363094.3905036-3896-106624371702090="` echo /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/apt.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpqzbx1kz9 TO /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090/AnsiballZ_apt.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090/ /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090/AnsiballZ_apt.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090/AnsiballZ_apt.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363094.3905036-3896-106624371702090/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "cache_update_time": 1702362657,
    "cache_updated": false,
    "changed": true,
    "diff": {},
    "invocation": {
        "module_args": {
            "allow_change_held_packages": false,
            "allow_downgrade": false,
            "allow_unauthenticated": false,
            "autoclean": false,
            "autoremove": false,
            "cache_valid_time": 0,
            "clean": false,
            "deb": null,
            "default_release": null,
            "dpkg_options": "force-confdef,force-confold",
            "fail_on_autoremove": false,
            "force": false,
            "force_apt_get": false,
            "install_recommends": null,
            "lock_timeout": 60,
            "name": "fail2ban",
            "only_upgrade": false,
            "package": [
                "fail2ban"
            ],
            "policy_rc_d": null,
            "purge": false,
            "state": "present",
            "update_cache": null,
            "update_cache_retries": 5,
            "update_cache_retry_max_delay": 12,
            "upgrade": null
        }
    },
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  python3-pyinotify whois\nSuggested packages:\n  mailx monit sqlite3 python-pyinotify-doc\nThe following NEW packages will be installed:\n  fail2ban python3-pyinotify whois\n0 upgraded, 3 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 473 kB of archives.\nAfter this operation, 2486 kB of additional disk space will be used.\nGet:1 http://azure.archive.ubuntu.com/ubuntu jammy/universe amd64 fail2ban all 0.11.2-6 [394 kB]\nGet:2 http://azure.archive.ubuntu.com/ubuntu jammy/main amd64 python3-pyinotify all 0.9.6-1.3 [24.8 kB]\nGet:3 http://azure.archive.ubuntu.com/ubuntu jammy/main amd64 whois amd64 5.5.13 [53.4 kB]\nFetched 473 kB in 1s (345 kB/s)\nSelecting previously unselected package fail2ban.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 93576 files and directories currently installed.)\r\nPreparing to unpack .../fail2ban_0.11.2-6_all.deb ...\r\nUnpacking fail2ban (0.11.2-6) ...\r\nSelecting previously unselected package python3-pyinotify.\r\nPreparing to unpack .../python3-pyinotify_0.9.6-1.3_all.deb ...\r\nUnpacking python3-pyinotify (0.9.6-1.3) ...\r\nSelecting previously unselected package whois.\r\nPreparing to unpack .../whois_5.5.13_amd64.deb ...\r\nUnpacking whois (5.5.13) ...\r\nSetting up whois (5.5.13) ...\r\nSetting up fail2ban (0.11.2-6) ...\r\nSetting up python3-pyinotify (0.9.6-1.3) ...\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nNEEDRESTART-VER: 3.5\nNEEDRESTART-KCUR: 6.2.0-1018-azure\nNEEDRESTART-KEXP: 6.2.0-1018-azure\nNEEDRESTART-KSTA: 1\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following additional packages will be installed:",
        "  python3-pyinotify whois",
        "Suggested packages:",
        "  mailx monit sqlite3 python-pyinotify-doc",
        "The following NEW packages will be installed:",
        "  fail2ban python3-pyinotify whois",
        "0 upgraded, 3 newly installed, 0 to remove and 2 not upgraded.",
        "Need to get 473 kB of archives.",
        "After this operation, 2486 kB of additional disk space will be used.",
        "Get:1 http://azure.archive.ubuntu.com/ubuntu jammy/universe amd64 fail2ban all 0.11.2-6 [394 kB]",
        "Get:2 http://azure.archive.ubuntu.com/ubuntu jammy/main amd64 python3-pyinotify all 0.9.6-1.3 [24.8 kB]",
        "Get:3 http://azure.archive.ubuntu.com/ubuntu jammy/main amd64 whois amd64 5.5.13 [53.4 kB]",
        "Fetched 473 kB in 1s (345 kB/s)",
        "Selecting previously unselected package fail2ban.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 93576 files and directories currently installed.)",
        "Preparing to unpack .../fail2ban_0.11.2-6_all.deb ...",
        "Unpacking fail2ban (0.11.2-6) ...",
        "Selecting previously unselected package python3-pyinotify.",
        "Preparing to unpack .../python3-pyinotify_0.9.6-1.3_all.deb ...",
        "Unpacking python3-pyinotify (0.9.6-1.3) ...",
        "Selecting previously unselected package whois.",
        "Preparing to unpack .../whois_5.5.13_amd64.deb ...",
        "Unpacking whois (5.5.13) ...",
        "Setting up whois (5.5.13) ...",
        "Setting up fail2ban (0.11.2-6) ...",
        "Setting up python3-pyinotify (0.9.6-1.3) ...",
        "Processing triggers for man-db (2.10.2-1) ...",
        "NEEDRESTART-VER: 3.5",
        "NEEDRESTART-KCUR: 6.2.0-1018-azure",
        "NEEDRESTART-KEXP: 6.2.0-1018-azure",
        "NEEDRESTART-KSTA: 1"
    ]
}

TASK [fail2ban : Enable fail2ban] ************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/tasks/main.yml:10
Running ansible.legacy.systemd
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111 `" && echo ansible-tmp-1702363102.374294-4131-257723672953111="` echo /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/systemd.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpwh2uikxx TO /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111/AnsiballZ_systemd.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111/ /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363102.374294-4131-257723672953111/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "enabled": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": true,
            "force": null,
            "masked": null,
            "name": "fail2ban",
            "no_block": false,
            "scope": "system",
            "state": null
        }
    },
    "name": "fail2ban",
    "status": {
        "ActiveEnterTimestamp": "n/a",
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "system.slice ipset.service -.mount nftables.service network.target firewalld.service sysinit.target systemd-journald.socket ip6tables.service iptables.service basic.target",
        "AllowIsolate": "no",
        "AssertResult": "no",
        "AssertTimestamp": "n/a",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanClean": "runtime",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestamp": "n/a",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "Fail2Ban Service",
        "DevicePolicy": "auto",
        "Documentation": "\"man:fail2ban(1)\"",
        "DynamicUser": "no",
        "Environment": "PYTHONNOUSERSITE=yes",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestamp": "n/a",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/bin/fail2ban-server ; argv[]=/usr/bin/fail2ban-server -xf start ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartEx": "{ path=/usr/bin/fail2ban-server ; argv[]=/usr/bin/fail2ban-server -xf start ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStop": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client stop ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client stop ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/fail2ban.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "fail2ban.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "n/a",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "8388608",
        "LimitMEMLOCKSoft": "8388608",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "31498",
        "LimitNPROCSoft": "31498",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "31498",
        "LimitSIGPENDINGSoft": "31498",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "fail2ban.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/fail2ban/fail2ban.pid",
        "PartOf": "firewalld.service",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target -.mount",
        "RequiresMountsFor": "/run/fail2ban",
        "Restart": "on-failure",
        "RestartKillSignal": "15",
        "RestartPreventExitStatus": "0 255",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectory": "fail2ban",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "n/a",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "9449",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "simple",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "infinity"
    }
}

TASK [fail2ban : Create jail.d] **************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/tasks/main.yml:13
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128 `" && echo ansible-tmp-1702363103.6452038-4249-234480562138128="` echo /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/file.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmp6zqlbivw TO /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128/AnsiballZ_file.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128/ /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128/AnsiballZ_file.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128/AnsiballZ_file.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363103.6452038-4249-234480562138128/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/etc/fail2ban/jail.d"
        },
        "before": {
            "path": "/etc/fail2ban/jail.d"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/etc/fail2ban/jail.d",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "/etc/fail2ban/jail.d",
    "size": 4096,
    "state": "directory",
    "uid": 0
}

TASK [fail2ban : Setup filters] **************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/tasks/main.yml:16
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460 `" && echo ansible-tmp-1702363103.8825366-4274-7987846012460="` echo /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/stat.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpm7_s17n4 TO /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/AnsiballZ_stat.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/ /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/AnsiballZ_stat.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/AnsiballZ_stat.py && sleep 0'
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpju9trr3i/nginx-proxy-filter.conf.j2 TO /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/source
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/ /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/source && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/copy.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpnf_rn3n4 TO /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/AnsiballZ_copy.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/ /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/AnsiballZ_copy.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/AnsiballZ_copy.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => (item=nginx-proxy) => {
    "ansible_loop_var": "item",
    "changed": true,
    "checksum": "e2122866b05dfee62108c951fda17d1948ffffab",
    "dest": "/etc/fail2ban/filter.d/nginx-proxy.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "nginx-proxy-filter.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "e2122866b05dfee62108c951fda17d1948ffffab",
            "content": null,
            "dest": "/etc/fail2ban/filter.d/nginx-proxy.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "item": "nginx-proxy",
    "md5sum": "e598cb9ae05c2f02613316c998e960e9",
    "mode": "0644",
    "owner": "root",
    "size": 542,
    "src": "/root/.ansible/tmp/ansible-tmp-1702363103.8825366-4274-7987846012460/source",
    "state": "file",
    "uid": 0
}
Notification for handler restart fail2ban has been saved.

TASK [fail2ban : setup jails] ****************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/tasks/main.yml:23
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573 `" && echo ansible-tmp-1702363104.3457527-4311-226643118753573="` echo /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/stat.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmplzu19t4v TO /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/AnsiballZ_stat.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/ /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/AnsiballZ_stat.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/AnsiballZ_stat.py && sleep 0'
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpf5gkelx4/nginx-proxy-jail.conf.j2 TO /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/source
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/ /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/source && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/copy.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmpb__fhayu TO /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/AnsiballZ_copy.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/ /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/AnsiballZ_copy.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/AnsiballZ_copy.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => (item=nginx-proxy) => {
    "ansible_loop_var": "item",
    "changed": true,
    "checksum": "fb1021c9f09754b92b35cae717414d18ddddd9dc",
    "dest": "/etc/fail2ban/jail.d/nginx-proxy.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "nginx-proxy-jail.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "fb1021c9f09754b92b35cae717414d18ddddd9dc",
            "content": null,
            "dest": "/etc/fail2ban/jail.d/nginx-proxy.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "item": "nginx-proxy",
    "md5sum": "2dbddc094249bb7cb1c85d4324f5c98a",
    "mode": "0644",
    "owner": "root",
    "size": 256,
    "src": "/root/.ansible/tmp/ansible-tmp-1702363104.3457527-4311-226643118753573/source",
    "state": "file",
    "uid": 0
}
Notification for handler restart fail2ban has been saved.
NOTIFIED HANDLER fail2ban : restart fail2ban for localhost

RUNNING HANDLER [fail2ban : restart fail2ban] ************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/fail2ban/handlers/main.yml:2
Running ansible.legacy.systemd
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186 `" && echo ansible-tmp-1702363104.6419692-4348-207265775810186="` echo /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/systemd.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmp9coompx4 TO /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186/AnsiballZ_systemd.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186/ /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363104.6419692-4348-207265775810186/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": null,
            "force": null,
            "masked": null,
            "name": "fail2ban",
            "no_block": false,
            "scope": "system",
            "state": "restarted"
        }
    },
    "name": "fail2ban",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "n/a",
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "-.mount ip6tables.service sysinit.target basic.target ipset.service system.slice iptables.service firewalld.service nftables.service network.target systemd-journald.socket",
        "AllowIsolate": "no",
        "AssertResult": "no",
        "AssertTimestamp": "n/a",
        "AssertTimestampMonotonic": "0",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanClean": "runtime",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestamp": "n/a",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "Fail2Ban Service",
        "DevicePolicy": "auto",
        "Documentation": "\"man:fail2ban(1)\"",
        "DynamicUser": "no",
        "Environment": "PYTHONNOUSERSITE=yes",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestamp": "n/a",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/bin/fail2ban-server ; argv[]=/usr/bin/fail2ban-server -xf start ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartEx": "{ path=/usr/bin/fail2ban-server ; argv[]=/usr/bin/fail2ban-server -xf start ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStop": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client stop ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/usr/bin/fail2ban-client ; argv[]=/usr/bin/fail2ban-client stop ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/fail2ban.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "fail2ban.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "n/a",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "8388608",
        "LimitMEMLOCKSoft": "8388608",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "31498",
        "LimitNPROCSoft": "31498",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "31498",
        "LimitSIGPENDINGSoft": "31498",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "fail2ban.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/fail2ban/fail2ban.pid",
        "PartOf": "firewalld.service",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target -.mount system.slice",
        "RequiresMountsFor": "/run/fail2ban",
        "Restart": "on-failure",
        "RestartKillSignal": "15",
        "RestartPreventExitStatus": "0 255",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectory": "fail2ban",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "n/a",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "9449",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "simple",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "infinity"
    }
}

PLAY [setup bench and dev environment] *******************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/site.yml:40
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676 `" && echo ansible-tmp-1702363104.9683437-4377-259158865883676="` echo /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-3817imlxdh80/tmp3eyukv8j TO /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676/ /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363104.9683437-4377-259158865883676/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]

PLAY RECAP ***********************************************************************************************************************************************************
localhost                  : ok=8    changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

$ bench setup role nginx
ansible-playbook [core 2.16.2]
  config file = None
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.10/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.10.12 (main, Nov 20 2023, 15:14:05) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
No config file found; using defaults
setting up inventory plugins
Loading collection ansible.builtin from 
host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
redirecting (type: modules) ansible.builtin.homebrew to community.general.homebrew
Loading collection community.general from /usr/local/lib/python3.10/dist-packages/ansible_collections/community/general
redirecting (type: modules) ansible.builtin.selinux to ansible.posix.selinux
Loading collection ansible.posix from /usr/local/lib/python3.10/dist-packages/ansible_collections/ansible/posix
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.10/dist-packages/ansible/plugins/callback/default.py
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: site.yml ***************************************************************************************************************************************************
Positional arguments: site.yml
verbosity: 4
connection: local
become_method: sudo
tags: ('nginx',)
inventory: ('/etc/ansible/hosts',)
extra_vars: ('{"production": true, "admin_emails": "", "mysql_root_password": null, "container": false}',)
forks: 5
2 plays in site.yml

PLAY [localhost] *****************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/site.yml:4
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836 `" && echo ansible-tmp-1702363106.6883435-4458-243327664742836="` echo /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmp73k4vuj8 TO /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836/ /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363106.6883435-4458-243327664742836/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]

TASK [nginx : Include OS-specific variables.] ************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:3
ok: [localhost] => {
    "ansible_facts": {
        "__nginx_user": "www-data",
        "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default",
        "nginx_vhost_path": "/etc/nginx/sites-enabled"
    },
    "ansible_included_var_files": [
        "/usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/vars/Debian.yml"
    ],
    "changed": false
}

TASK [nginx : Define nginx_user.] ************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:6
ok: [localhost] => {
    "ansible_facts": {
        "nginx_user": "www-data"
    },
    "changed": false
}

TASK [nginx : include_tasks] *****************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:12
skipping: [localhost] => {
    "changed": false,
    "false_condition": "ansible_os_family == 'RedHat'",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : include_tasks] *****************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:15
included: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/setup-Debian.yml for localhost

TASK [nginx : Add nginx apt repository key for Debian < 8] ***********************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/setup-Debian.yml:2
skipping: [localhost] => {
    "changed": false,
    "false_condition": "ansible_distribution == 'Debian' and ansible_distribution_version is version_compare('8', 'lt')",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : Add nginx apt repository for Debian < 8] ***************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/setup-Debian.yml:8
skipping: [localhost] => {
    "changed": false,
    "false_condition": "ansible_distribution == 'Debian' and ansible_distribution_version is version_compare('8', 'lt')",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : Ensure nginx is installed.] ****************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/setup-Debian.yml:14
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032 `" && echo ansible-tmp-1702363107.877907-4537-65373247958032="` echo /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/apt.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmpf71qfoh9 TO /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032/AnsiballZ_apt.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032/ /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032/AnsiballZ_apt.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032/AnsiballZ_apt.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363107.877907-4537-65373247958032/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "cache_update_time": 1702362657,
    "cache_updated": false,
    "changed": true,
    "diff": {},
    "invocation": {
        "module_args": {
            "allow_change_held_packages": false,
            "allow_downgrade": false,
            "allow_unauthenticated": false,
            "autoclean": false,
            "autoremove": false,
            "cache_valid_time": 0,
            "clean": false,
            "deb": null,
            "default_release": "",
            "dpkg_options": "force-confdef,force-confold",
            "fail_on_autoremove": false,
            "force": false,
            "force_apt_get": false,
            "install_recommends": null,
            "lock_timeout": 60,
            "only_upgrade": false,
            "package": [
                "nginx"
            ],
            "pkg": "nginx",
            "policy_rc_d": null,
            "purge": false,
            "state": "present",
            "update_cache": null,
            "update_cache_retries": 5,
            "update_cache_retry_max_delay": 12,
            "upgrade": null
        }
    },
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter\n  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream\n  libnginx-mod-stream-geoip2 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc ssl-cert\nThe following NEW packages will be installed:\n  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter\n  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream\n  libnginx-mod-stream-geoip2 nginx nginx-common nginx-core\n0 upgraded, 9 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 697 kB of archives.\nAfter this operation, 2395 kB of additional disk space will be used.\nGet:1 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.4 [40.0 kB]\nGet:2 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.4 [11.9 kB]\nGet:3 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.4 [15.4 kB]\nGet:4 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.4 [13.7 kB]\nGet:5 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.4 [45.7 kB]\nGet:6 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.4 [72.9 kB]\nGet:7 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.4 [10.1 kB]\nGet:8 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.4 [484 kB]\nGet:9 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.4 [3872 B]\nPreconfiguring packages ...\nFetched 697 kB in 0s (2801 kB/s)\nSelecting previously unselected package nginx-common.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 94045 files and directories currently installed.)\r\nPreparing to unpack .../0-nginx-common_1.18.0-6ubuntu14.4_all.deb ...\r\nUnpacking nginx-common (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package libnginx-mod-http-geoip2.\r\nPreparing to unpack .../1-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package libnginx-mod-http-image-filter.\r\nPreparing to unpack .../2-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package libnginx-mod-http-xslt-filter.\r\nPreparing to unpack .../3-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package libnginx-mod-mail.\r\nPreparing to unpack .../4-libnginx-mod-mail_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking libnginx-mod-mail (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package libnginx-mod-stream.\r\nPreparing to unpack .../5-libnginx-mod-stream_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking libnginx-mod-stream (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package libnginx-mod-stream-geoip2.\r\nPreparing to unpack .../6-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package nginx-core.\r\nPreparing to unpack .../7-nginx-core_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking nginx-core (1.18.0-6ubuntu14.4) ...\r\nSelecting previously unselected package nginx.\r\nPreparing to unpack .../8-nginx_1.18.0-6ubuntu14.4_amd64.deb ...\r\nUnpacking nginx (1.18.0-6ubuntu14.4) ...\r\nSetting up nginx-common (1.18.0-6ubuntu14.4) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.\r\nSetting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...\r\nSetting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...\r\nSetting up libnginx-mod-mail (1.18.0-6ubuntu14.4) ...\r\nSetting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...\r\nSetting up libnginx-mod-stream (1.18.0-6ubuntu14.4) ...\r\nSetting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...\r\nSetting up nginx-core (1.18.0-6ubuntu14.4) ...\r\n * Upgrading binary nginx       \u001b[80G \r\u001b[74G[ OK ]\r\nSetting up nginx (1.18.0-6ubuntu14.4) ...\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nProcessing triggers for ufw (0.36.1-4ubuntu0.1) ...\r\nNEEDRESTART-VER: 3.5\nNEEDRESTART-KCUR: 6.2.0-1018-azure\nNEEDRESTART-KEXP: 6.2.0-1018-azure\nNEEDRESTART-KSTA: 1\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following additional packages will be installed:",
        "  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter",
        "  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream",
        "  libnginx-mod-stream-geoip2 nginx-common nginx-core",
        "Suggested packages:",
        "  fcgiwrap nginx-doc ssl-cert",
        "The following NEW packages will be installed:",
        "  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter",
        "  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream",
        "  libnginx-mod-stream-geoip2 nginx nginx-common nginx-core",
        "0 upgraded, 9 newly installed, 0 to remove and 2 not upgraded.",
        "Need to get 697 kB of archives.",
        "After this operation, 2395 kB of additional disk space will be used.",
        "Get:1 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.4 [40.0 kB]",
        "Get:2 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.4 [11.9 kB]",
        "Get:3 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.4 [15.4 kB]",
        "Get:4 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.4 [13.7 kB]",
        "Get:5 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.4 [45.7 kB]",
        "Get:6 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.4 [72.9 kB]",
        "Get:7 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.4 [10.1 kB]",
        "Get:8 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.4 [484 kB]",
        "Get:9 http://azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.4 [3872 B]",
        "Preconfiguring packages ...",
        "Fetched 697 kB in 0s (2801 kB/s)",
        "Selecting previously unselected package nginx-common.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 94045 files and directories currently installed.)",
        "Preparing to unpack .../0-nginx-common_1.18.0-6ubuntu14.4_all.deb ...",
        "Unpacking nginx-common (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package libnginx-mod-http-geoip2.",
        "Preparing to unpack .../1-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package libnginx-mod-http-image-filter.",
        "Preparing to unpack .../2-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package libnginx-mod-http-xslt-filter.",
        "Preparing to unpack .../3-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package libnginx-mod-mail.",
        "Preparing to unpack .../4-libnginx-mod-mail_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package libnginx-mod-stream.",
        "Preparing to unpack .../5-libnginx-mod-stream_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package libnginx-mod-stream-geoip2.",
        "Preparing to unpack .../6-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package nginx-core.",
        "Preparing to unpack .../7-nginx-core_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking nginx-core (1.18.0-6ubuntu14.4) ...",
        "Selecting previously unselected package nginx.",
        "Preparing to unpack .../8-nginx_1.18.0-6ubuntu14.4_amd64.deb ...",
        "Unpacking nginx (1.18.0-6ubuntu14.4) ...",
        "Setting up nginx-common (1.18.0-6ubuntu14.4) ...",
        "Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.",
        "Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...",
        "Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...",
        "Setting up libnginx-mod-mail (1.18.0-6ubuntu14.4) ...",
        "Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...",
        "Setting up libnginx-mod-stream (1.18.0-6ubuntu14.4) ...",
        "Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...",
        "Setting up nginx-core (1.18.0-6ubuntu14.4) ...",
        " * Upgrading binary nginx       \u001b[80G ",
        "\u001b[74G[ OK ]",
        "Setting up nginx (1.18.0-6ubuntu14.4) ...",
        "Processing triggers for man-db (2.10.2-1) ...",
        "Processing triggers for ufw (0.36.1-4ubuntu0.1) ...",
        "NEEDRESTART-VER: 3.5",
        "NEEDRESTART-KCUR: 6.2.0-1018-azure",
        "NEEDRESTART-KEXP: 6.2.0-1018-azure",
        "NEEDRESTART-KSTA: 1"
    ]
}

TASK [nginx : Rename default nginx.conf to nginx.conf.old] ***********************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:19
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798 `" && echo ansible-tmp-1702363116.2685053-4979-268215949614798="` echo /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/command.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmp6fqmi8uf TO /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798/AnsiballZ_command.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798/ /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798/AnsiballZ_command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798/AnsiballZ_command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363116.2685053-4979-268215949614798/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": [
        "mv",
        "/etc/nginx/nginx.conf",
        "/etc/nginx/nginx.conf.old"
    ],
    "delta": "0:00:00.003372",
    "end": "2023-12-12 06:38:36.458727",
    "invocation": {
        "module_args": {
            "_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/nginx.conf.old",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "expand_argument_vars": true,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2023-12-12 06:38:36.455355",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "",
    "stdout_lines": []
}

TASK [nginx : Copy nginx configuration in place.] ********************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:24
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713 `" && echo ansible-tmp-1702363116.4960651-5005-254830415387713="` echo /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/stat.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmpa9cyyzfn TO /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/AnsiballZ_stat.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/ /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/AnsiballZ_stat.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/AnsiballZ_stat.py && sleep 0'
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmp3327rdde/nginx.conf.j2 TO /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/source
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/ /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/source && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/copy.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmpuoqo_u8h TO /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/AnsiballZ_copy.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/ /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/AnsiballZ_copy.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/AnsiballZ_copy.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/ > /dev/null 2>&1 && sleep 0'
Notification for handler restart nginx has been saved.
changed: [localhost] => {
    "changed": true,
    "checksum": "f2ffbdb4b85314d1953f3968e098b01915e46540",
    "dest": "/etc/nginx/nginx.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "nginx.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "f2ffbdb4b85314d1953f3968e098b01915e46540",
            "content": null,
            "dest": "/etc/nginx/nginx.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": 420,
            "owner": "root",
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "cd4970005bdf4504252043b4fb12fe76",
    "mode": "0644",
    "owner": "root",
    "size": 1874,
    "src": "/root/.ansible/tmp/ansible-tmp-1702363116.4960651-5005-254830415387713/source",
    "state": "file",
    "uid": 0
}

TASK [nginx : Setup www redirect] ************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:33
skipping: [localhost] => {
    "changed": false,
    "false_condition": "setup_www_redirect",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : Enable SELinux] ****************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:43
skipping: [localhost] => {
    "changed": false,
    "false_condition": "ansible_distribution == 'CentOS'",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : Ensure nginx is started and enabled to start at boot.] *************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:47
Running ansible.legacy.systemd
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118 `" && echo ansible-tmp-1702363116.9886978-5044-260121300745118="` echo /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/systemd.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmpzmdcwprh TO /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118/AnsiballZ_systemd.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118/ /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363116.9886978-5044-260121300745118/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "enabled": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": true,
            "force": null,
            "masked": null,
            "name": "nginx",
            "no_block": false,
            "scope": "system",
            "state": "started"
        }
    },
    "name": "nginx",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "ActiveEnterTimestampMonotonic": "882653059",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "network.target systemd-journald.socket basic.target sysinit.target nss-lookup.target system.slice",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "AssertTimestampMonotonic": "882622362",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "27164000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "ConditionTimestampMonotonic": "882622360",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/nginx.service",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "A high performance web server and a reverse proxy server",
        "DevicePolicy": "auto",
        "Documentation": "\"man:nginx(8)\"",
        "DynamicUser": "no",
        "EffectiveCPUs": "0-1",
        "EffectiveMemoryNodes": "0",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "4909",
        "ExecMainStartTimestamp": "Tue 2023-12-12 06:38:34 UTC",
        "ExecMainStartTimestampMonotonic": "883981102",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4817 ; code=exited ; status=0 }",
        "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4817 ; code=exited ; status=0 }",
        "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4816 ; code=exited ; status=0 }",
        "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4816 ; code=exited ; status=0 }",
        "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/nginx.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "nginx.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "InactiveExitTimestampMonotonic": "882644362",
        "InvocationID": "7d9a80a6dc5a4d829fcd3e4584128a85",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "8388608",
        "LimitMEMLOCKSoft": "8388608",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "31498",
        "LimitNPROCSoft": "31498",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "31498",
        "LimitSIGPENDINGSoft": "31498",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "4909",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "7602176",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "nginx.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/nginx.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "StateChangeTimestampMonotonic": "882653059",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "3",
        "TasksMax": "9449",
        "TimeoutAbortUSec": "5s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "5s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}

TASK [nginx : include_tasks] *****************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/main.yml:50
included: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/vhosts.yml for localhost

TASK [nginx : Remove default nginx vhost config file (if configured).] ***********************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/vhosts.yml:2
skipping: [localhost] => {
    "changed": false,
    "false_condition": "nginx_remove_default_vhost",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : Add managed vhost config file (if any vhosts are configured).] *****************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/vhosts.yml:9
skipping: [localhost] => {
    "changed": false,
    "false_condition": "nginx_vhosts",
    "skip_reason": "Conditional result was False"
}

TASK [nginx : Remove managed vhost config file (if no vhosts are configured).] ***************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/tasks/vhosts.yml:17
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577 `" && echo ansible-tmp-1702363117.5028045-5074-4421053860577="` echo /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/file.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmp4vml0qab TO /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577/AnsiballZ_file.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577/ /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577/AnsiballZ_file.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577/AnsiballZ_file.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363117.5028045-5074-4421053860577/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/etc/nginx/sites-enabled/vhosts.conf",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "absent",
            "unsafe_writes": false
        }
    },
    "path": "/etc/nginx/sites-enabled/vhosts.conf",
    "state": "absent"
}
NOTIFIED HANDLER nginx : restart nginx for localhost

RUNNING HANDLER [nginx : restart nginx] ******************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/nginx/handlers/main.yml:2
Running ansible.legacy.systemd
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706 `" && echo ansible-tmp-1702363117.7521324-5099-149866086111706="` echo /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/systemd.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmppp0kqrbp TO /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706/AnsiballZ_systemd.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706/ /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706/AnsiballZ_systemd.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363117.7521324-5099-149866086111706/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": null,
            "force": null,
            "masked": null,
            "name": "nginx",
            "no_block": false,
            "scope": "system",
            "state": "restarted"
        }
    },
    "name": "nginx",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "ActiveEnterTimestampMonotonic": "882653059",
        "ActiveExitTimestamp": "n/a",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "network.target systemd-journald.socket basic.target sysinit.target nss-lookup.target system.slice",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "AssertTimestampMonotonic": "882622362",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "27164000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "ConditionTimestampMonotonic": "882622360",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/nginx.service",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "A high performance web server and a reverse proxy server",
        "DevicePolicy": "auto",
        "Documentation": "\"man:nginx(8)\"",
        "DynamicUser": "no",
        "EffectiveCPUs": "0-1",
        "EffectiveMemoryNodes": "0",
        "ExecMainCode": "0",
        "ExecMainExitTimestamp": "n/a",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "4909",
        "ExecMainStartTimestamp": "Tue 2023-12-12 06:38:34 UTC",
        "ExecMainStartTimestampMonotonic": "883981102",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4817 ; code=exited ; status=0 }",
        "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4817 ; code=exited ; status=0 }",
        "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4816 ; code=exited ; status=0 }",
        "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Tue 2023-12-12 06:38:32 UTC] ; stop_time=[Tue 2023-12-12 06:38:32 UTC] ; pid=4816 ; code=exited ; status=0 }",
        "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/lib/systemd/system/nginx.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "nginx.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "n/a",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "InactiveExitTimestampMonotonic": "882644362",
        "InvocationID": "7d9a80a6dc5a4d829fcd3e4584128a85",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "8388608",
        "LimitMEMLOCKSoft": "8388608",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "31498",
        "LimitNPROCSoft": "31498",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "31498",
        "LimitSIGPENDINGSoft": "31498",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "4909",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "infinity",
        "MemoryCurrent": "7602176",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAPolicy": "n/a",
        "Names": "nginx.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "PIDFile": "/run/nginx.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Tue 2023-12-12 06:38:32 UTC",
        "StateChangeTimestampMonotonic": "882653059",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "3",
        "TasksMax": "9449",
        "TimeoutAbortUSec": "5s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "5s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogSignal": "6",
        "WatchdogTimestamp": "n/a",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}

PLAY [setup bench and dev environment] *******************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/site.yml:40
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753 `" && echo ansible-tmp-1702363118.0748289-5135-236545586349753="` echo /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-4455oos9inaq/tmp_339zmt3 TO /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753/ /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363118.0748289-5135-236545586349753/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]

PLAY RECAP ***********************************************************************************************************************************************************
localhost                  : ok=12   changed=4    unreachable=0    failed=0    skipped=7    rescued=0    ignored=0   

$ bench setup role supervisor
ansible-playbook [core 2.16.2]
  config file = None
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.10/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.10.12 (main, Nov 20 2023, 15:14:05) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
No config file found; using defaults
setting up inventory plugins
Loading collection ansible.builtin from 
host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Skipping due to inventory source not existing or not being readable by the current user
toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
redirecting (type: modules) ansible.builtin.homebrew to community.general.homebrew
Loading collection community.general from /usr/local/lib/python3.10/dist-packages/ansible_collections/community/general
redirecting (type: modules) ansible.builtin.selinux to ansible.posix.selinux
Loading collection ansible.posix from /usr/local/lib/python3.10/dist-packages/ansible_collections/ansible/posix
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.10/dist-packages/ansible/plugins/callback/default.py
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: site.yml ***************************************************************************************************************************************************
Positional arguments: site.yml
verbosity: 4
connection: local
become_method: sudo
tags: ('supervisor',)
inventory: ('/etc/ansible/hosts',)
extra_vars: ('{"production": true, "admin_emails": "", "mysql_root_password": null, "container": false}',)
forks: 5
2 plays in site.yml

PLAY [localhost] *****************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/site.yml:4
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785 `" && echo ansible-tmp-1702363119.7742138-5214-157772475590785="` echo /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5211my_gj1fd/tmpqb3ji0yd TO /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785/ /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363119.7742138-5214-157772475590785/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]

TASK [supervisor : Install supervisor on centos] *********************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/supervisor/tasks/main.yml:2
skipping: [localhost] => {
    "changed": false,
    "false_condition": "ansible_os_family == 'RedHat'",
    "skip_reason": "Conditional result was False"
}

TASK [supervisor : Install supervisor on debian] *********************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/roles/supervisor/tasks/main.yml:6
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922 `" && echo ansible-tmp-1702363120.8213534-5288-196984334746922="` echo /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/apt.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5211my_gj1fd/tmpjzbqayp6 TO /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922/AnsiballZ_apt.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922/ /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922/AnsiballZ_apt.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922/AnsiballZ_apt.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363120.8213534-5288-196984334746922/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "cache_update_time": 1702362657,
    "cache_updated": false,
    "changed": true,
    "diff": {},
    "invocation": {
        "module_args": {
            "allow_change_held_packages": false,
            "allow_downgrade": false,
            "allow_unauthenticated": false,
            "autoclean": false,
            "autoremove": false,
            "cache_valid_time": 0,
            "clean": false,
            "deb": null,
            "default_release": null,
            "dpkg_options": "force-confdef,force-confold",
            "fail_on_autoremove": false,
            "force": true,
            "force_apt_get": false,
            "install_recommends": null,
            "lock_timeout": 60,
            "only_upgrade": false,
            "package": [
                "supervisor"
            ],
            "pkg": "supervisor",
            "policy_rc_d": null,
            "purge": false,
            "state": "present",
            "update_cache": null,
            "update_cache_retries": 5,
            "update_cache_retry_max_delay": 12,
            "upgrade": null
        }
    },
    "stderr": "W: --force-yes is deprecated, use one of the options starting with --allow instead.\n",
    "stderr_lines": [
        "W: --force-yes is deprecated, use one of the options starting with --allow instead."
    ],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  supervisor-doc\nThe following NEW packages will be installed:\n  supervisor\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 278 kB of archives.\nAfter this operation, 1684 kB of additional disk space will be used.\nGet:1 http://azure.archive.ubuntu.com/ubuntu jammy/universe amd64 supervisor all 4.2.1-1ubuntu1 [278 kB]\nFetched 278 kB in 0s (762 kB/s)\nSelecting previously unselected package supervisor.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 94134 files and directories currently installed.)\r\nPreparing to unpack .../supervisor_4.2.1-1ubuntu1_all.deb ...\r\nUnpacking supervisor (4.2.1-1ubuntu1) ...\r\nSetting up supervisor (4.2.1-1ubuntu1) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/supervisor.service → /lib/systemd/system/supervisor.service.\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nNEEDRESTART-VER: 3.5\nNEEDRESTART-KCUR: 6.2.0-1018-azure\nNEEDRESTART-KEXP: 6.2.0-1018-azure\nNEEDRESTART-KSTA: 1\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "Suggested packages:",
        "  supervisor-doc",
        "The following NEW packages will be installed:",
        "  supervisor",
        "0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.",
        "Need to get 278 kB of archives.",
        "After this operation, 1684 kB of additional disk space will be used.",
        "Get:1 http://azure.archive.ubuntu.com/ubuntu jammy/universe amd64 supervisor all 4.2.1-1ubuntu1 [278 kB]",
        "Fetched 278 kB in 0s (762 kB/s)",
        "Selecting previously unselected package supervisor.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 94134 files and directories currently installed.)",
        "Preparing to unpack .../supervisor_4.2.1-1ubuntu1_all.deb ...",
        "Unpacking supervisor (4.2.1-1ubuntu1) ...",
        "Setting up supervisor (4.2.1-1ubuntu1) ...",
        "Created symlink /etc/systemd/system/multi-user.target.wants/supervisor.service → /lib/systemd/system/supervisor.service.",
        "Processing triggers for man-db (2.10.2-1) ...",
        "NEEDRESTART-VER: 3.5",
        "NEEDRESTART-KCUR: 6.2.0-1018-azure",
        "NEEDRESTART-KEXP: 6.2.0-1018-azure",
        "NEEDRESTART-KSTA: 1"
    ]
}

PLAY [setup bench and dev environment] *******************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************
task path: /usr/local/lib/python3.10/dist-packages/bench/playbooks/site.yml:40
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442 `" && echo ansible-tmp-1702363126.0708282-5523-173337364547442="` echo /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442 `" ) && sleep 0'
Using module file /usr/local/lib/python3.10/dist-packages/ansible/modules/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5211my_gj1fd/tmp850_35fq TO /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442/ /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1702363126.0708282-5523-173337364547442/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]

PLAY RECAP ***********************************************************************************************************************************************************
localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

Setting Up supervisor...
Setting Up NGINX...
Port configuration list:

Site underhood.online assigned port: 80
Setting Up symlinks and reloading services...
$ sudo /usr/sbin/nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
$ sudo systemctl reload nginx
Applying necessary permissions to supervisor...
Setting Up prerequisites...
Setting Up supervisor...
supervisor.conf already exists and this will overwrite it. Do you want to continue? [y/N]: Setting Up NGINX...
nginx.conf already exists and this will overwrite it. Do you want to continue? [y/N]: Port configuration list:

Site underhood.online assigned port: 80
Setting Up symlinks and reloading services...
$ /usr/bin/supervisorctl reread
frappe-bench-redis: available
frappe-bench-web: available
frappe-bench-workers: available
$ /usr/bin/supervisorctl update
frappe-bench-redis: added process group
frappe-bench-web: added process group
frappe-bench-workers: added process group
$ sudo /usr/sbin/nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
$ sudo systemctl reload nginx
Enabling Scheduler...
Scheduler is enabled for site underhood.online
Scheduler is resumed for site underhood.online
Restarting bench to apply all changes and optimizing environment pernissions.
Production setup complete! 🎆
Would you like to install SSL? (yes/no)
Response: yes
Make sure your domain name is pointed to the IP of this instance and is reachable before your proceed.
Enter your email address: balsehra445@gmail.com
Installing Certbot...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
snapd is already the newest version (2.58+22.04.1).
snapd set to manually installed.
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.
core 16-2.60.4 from Canonical✓ installed
snap "core" has no updates available
certbot 2.8.0 from Certbot Project (certbot-eff✓) installed
Obtaining and installing SSL certificate...
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Account registered.
Requesting a certificate for underhood.online

Certbot failed to authenticate some domains (authenticator: nginx). The Certificate Authority reported these problems:
  Domain: underhood.online
  Type:   dns
  Detail: DNS problem: SERVFAIL looking up A for underhood.online - the domain's nameservers may be malfunctioning; DNS problem: SERVFAIL looking up AAAA for underhood.online - the domain's nameservers may be malfunctioning

Hint: The Certificate Authority failed to verify the temporary nginx configuration changes made by Certbot. Ensure the listed domains point to this nginx server and that it is accessible from the internet.

Some challenges have failed.
Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.
SSL certificate installed successfully.
--------------------------------------------------------------------------------
Congratulations! You have successfully installed ERPNext Version 14.
You can start using your new ERPNext installation by visiting https://underhood.online
(if you have enabled SSL and used a Fully Qualified Domain Name
during installation) or http://10.0.0.4 to begin.
Install additional apps as required. Visit https://docs.erpnext.com for Documentation.
Enjoy using ERPNext!
--------------------------------------------------------------------------------
frappe@ubuntu2:~/frappe-bench$ ls
Procfile  apps  config  env  logs  patches.txt  sites
frappe@ubuntu2:~/frappe-bench$ ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 60:45:bd:af:2c:d9 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.4/24 metric 100 brd 10.0.0.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::6245:bdff:feaf:2cd9/64 scope link 
       valid_lft forever preferred_lft forever
frappe@ubuntu2:~/frappe-bench$ cd ..
frappe@ubuntu2:~$ ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 60:45:bd:af:2c:d9 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.4/24 metric 100 brd 10.0.0.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::6245:bdff:feaf:2cd9/64 scope link 
       valid_lft forever preferred_lft forever
frappe@ubuntu2:~$ cd frappe-bench/
frappe@ubuntu2:~/frappe-bench$ ls
Procfile  apps  config  env  logs  patches.txt  sites




frappe@ubuntu2:~$ cd frappe-bench/
frappe@ubuntu2:~/frappe-bench$ sudo nano /etc/nginx/conf.d/frappe-bench.conf 
[sudo] password for frappe: 
frappe@ubuntu2:~/frappe-bench$ sudo cerbot --nginx
sudo: cerbot: command not found
frappe@ubuntu2:~/frappe-bench$ bench restart
$ supervisorctl restart frappe-bench-workers: frappe-bench-web:
frappe-bench-workers:frappe-bench-frappe-schedule: stopped
frappe-bench-workers:frappe-bench-frappe-short-worker-0: stopped
frappe-bench-workers:frappe-bench-frappe-long-worker-0: stopped
frappe-bench-web:frappe-bench-node-socketio: stopped
frappe-bench-web:frappe-bench-frappe-web: stopped
frappe-bench-workers:frappe-bench-frappe-schedule: started
frappe-bench-workers:frappe-bench-frappe-short-worker-0: started
frappe-bench-workers:frappe-bench-frappe-long-worker-0: started
frappe-bench-web:frappe-bench-frappe-web: started
frappe-bench-web:frappe-bench-node-socketio: started
frappe@ubuntu2:~/frappe-bench$ sudo certbot --nginx
Saving debug log to /var/log/letsencrypt/letsencrypt.log

Which names would you like to activate HTTPS for?
We recommend selecting either all domains, or all domains in a VirtualHost/server block.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: underhood.online
2: frappe.underhood.online
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate numbers separated by commas and/or spaces, or leave input
blank to select all options shown (Enter 'c' to cancel): 2
Requesting a certificate for frappe.underhood.online

Successfully received certificate.
Certificate is saved at: /etc/letsencrypt/live/frappe.underhood.online/fullchain.pem
Key is saved at:         /etc/letsencrypt/live/frappe.underhood.online/privkey.pem
This certificate expires on 2024-03-11.
These files will be updated when the certificate renews.
Certbot has set up a scheduled task to automatically renew this certificate in the background.

Deploying certificate
Successfully deployed certificate for frappe.underhood.online to /etc/nginx/conf.d/frappe-bench.conf
Congratulations! You have successfully enabled HTTPS on https://frappe.underhood.online

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
If you like Certbot, please consider supporting our work by:
 * Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
 * Donating to EFF:                    https://eff.org/donate-le
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
frappe@ubuntu2:~/frappe-bench$ exit
logout
Connection to 20.197.1.7 closed.

